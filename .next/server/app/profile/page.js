(()=>{var e={};e.id=178,e.ids=[178],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},79447:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>d}),a(90841),a(74614),a(70903);var t=a(23191),r=a(88716),i=a(37922),n=a.n(i),l=a(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);a.d(s,c);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,90841)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,74614)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,70903)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\not-found.tsx"]}],o=["C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\profile\\page.tsx"],x="/profile/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},93045:(e,s,a)=>{Promise.resolve().then(a.bind(a,71080))},32933:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},91216:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},12714:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},76828:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]])},5932:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},92447:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},71080:(e,s,a)=>{"use strict";a.d(s,{default:()=>F});var t=a(10326),r=a(17577),i=a(16856),n=a(86462),l=a(79635),c=a(88378),d=a(58038),o=a(6507),x=a(98058),m=a(23016),p=a(87888),u=a(32933),h=a(75290),f=a(76557);let g=(0,f.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var j=a(74690),y=a(15560),b=a(18069);let v=({variants:e,loading:s,setLoading:a,errors:n,setErrors:c,success:d,setSuccess:o})=>{let{user:x,updateProfile:m}=(0,j.a)(),{showDemoRestriction:f}=(0,y.a)(),[v,N]=(0,r.useState)({name:x?.name||"",email:x?.email||"",avatar:x?.avatar||null}),w=async e=>{if(e.preventDefault(),x?.role==="demo"){f("Demo Account Restriction","Profile update is not available in demo mode. Please use a full account to access all features.","Update Profile");return}a(e=>({...e,profile:!0})),c({});try{let e=await b.ZP.auth.updateProfile({name:v.name});if(e.success&&e.data)m(e.data.user),o(e=>({...e,profile:!0})),setTimeout(()=>o(e=>({...e,profile:!1})),3e3);else throw Error(e.message||"Failed to update profile")}catch(e){c({profile:e instanceof Error?e.message:"Failed to update profile"})}finally{a(e=>({...e,profile:!1}))}};return(0,t.jsxs)(i.E.div,{variants:e,initial:"hidden",animate:"visible",exit:"exit",className:"card p-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[t.jsx(l.Z,{className:"w-6 h-6 text-blue-500"}),t.jsx("h3",{className:"text-xl font-semibold dark:text-white",children:"Profile Information"})]}),(0,t.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-6",children:[t.jsx("div",{className:"relative",children:t.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white text-2xl font-bold",children:x?.name?.charAt(0).toUpperCase()||"U"})}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium dark:text-white",children:"Profile Picture"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avatar customization coming soon"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Full Name"}),t.jsx("input",{type:"text",value:v.name,onChange:e=>N(s=>({...s,name:e.target.value})),className:"input-base",required:!0,minLength:2,maxLength:50,disabled:s.profile})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Email Address"}),t.jsx("input",{type:"email",value:v.email,className:"input-base bg-gray-50 dark:bg-gray-800 cursor-not-allowed",disabled:!0}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Email cannot be changed. Contact support if needed."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Account Type"}),t.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:t.jsx("span",{className:"capitalize font-medium dark:text-white",children:x?.subscription?.plan||"Free"})})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Member Since"}),t.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:t.jsx("span",{className:"dark:text-white",children:x?.createdAt?new Date(x.createdAt).toLocaleDateString():"N/A"})})]})]}),n.profile&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[t.jsx(p.Z,{className:"w-4 h-4"}),t.jsx("span",{children:n.profile})]}),d.profile&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-green-500 text-sm",children:[t.jsx(u.Z,{className:"w-4 h-4"}),t.jsx("span",{children:"Profile updated successfully!"})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:s.profile,className:"btn-primary px-6 py-2 rounded-lg flex items-center space-x-2",children:s.profile?(0,t.jsxs)(t.Fragment,{children:[t.jsx(h.Z,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:"Saving..."})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(g,{className:"w-4 h-4"}),t.jsx("span",{children:"Save Changes"})]})})})]})]})};var N=a(92447);let w=(0,f.Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);var k=a(51910);let P=({variants:e,loading:s,setLoading:a,errors:n,setErrors:l,success:d,setSuccess:o})=>{let{user:x,updateProfile:m}=(0,j.a)(),{showDemoRestriction:f}=(0,y.a)(),{showComingSoon:v}=(0,k.m)(),[P,C]=(0,r.useState)({defaultQRSize:x?.preferences?.defaultQRSize||256,defaultQRColor:x?.preferences?.defaultQRColor||"#000000",emailNotifications:x?.preferences?.emailNotifications??!0,darkMode:x?.preferences?.darkMode??!1,language:x?.preferences?.language||"en"}),Z=async()=>{if(x?.role==="demo"){f("Demo Account Restriction","Preferences update is not available in demo mode. Please use a full account to access all features.","Update Preferences");return}a(e=>({...e,preferences:!0})),l({});try{let e=await b.ZP.auth.updateProfile({preferences:{defaultQRSize:P.defaultQRSize,defaultQRColor:P.defaultQRColor,emailNotifications:P.emailNotifications,darkMode:P.darkMode,language:P.language}});if(e.success&&e.data)m(e.data.user),o(e=>({...e,preferences:!0})),setTimeout(()=>o(e=>({...e,preferences:!1})),3e3);else throw Error(e.message||"Failed to update preferences")}catch(e){l({preferences:e instanceof Error?e.message:"Failed to update preferences"})}finally{a(e=>({...e,preferences:!1}))}};return(0,t.jsxs)(i.E.div,{variants:e,initial:"hidden",animate:"visible",exit:"exit",className:"card p-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[t.jsx(c.Z,{className:"w-6 h-6 text-blue-500"}),t.jsx("h3",{className:"text-xl font-semibold dark:text-white",children:"Preferences"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium dark:text-white mb-4 flex items-center space-x-2",children:[t.jsx(N.Z,{className:"w-5 h-5 text-purple-500"}),t.jsx("span",{children:"QR Code Defaults"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Default Size"}),t.jsx("div",{className:"relative",onClick:()=>v("QR Size Settings","Custom QR code size selection is coming soon!"),children:(0,t.jsxs)("select",{value:P.defaultQRSize,className:"input-base cursor-pointer opacity-75 pointer-events-none",disabled:!0,children:[t.jsx("option",{value:128,children:"128x128"}),t.jsx("option",{value:256,children:"256x256"}),t.jsx("option",{value:512,children:"512x512"}),t.jsx("option",{value:1024,children:"1024x1024"})]})})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Default Color"}),(0,t.jsxs)("div",{className:"flex space-x-2",onClick:()=>v("QR Color Settings","Custom QR code colors are coming soon!"),children:[t.jsx("input",{type:"color",value:P.defaultQRColor,className:"w-12 h-10 border border-gray-300 dark:border-gray-600 rounded cursor-pointer opacity-75 pointer-events-none",disabled:!0}),t.jsx("input",{type:"text",value:P.defaultQRColor,className:"input-base flex-1 cursor-pointer opacity-75 pointer-events-none",placeholder:"#000000",disabled:!0})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium dark:text-white mb-4 flex items-center space-x-2",children:[t.jsx(w,{className:"w-5 h-5 text-green-500"}),t.jsx("span",{children:"Interface"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Language"}),t.jsx("div",{className:"relative",onClick:()=>v("Language Settings","Multiple language support is coming soon!"),children:(0,t.jsxs)("select",{value:P.language,className:"input-base cursor-pointer opacity-75 pointer-events-none",disabled:!0,children:[t.jsx("option",{value:"en",children:"English"}),t.jsx("option",{value:"es",children:"Espa\xf1ol"}),t.jsx("option",{value:"fr",children:"Fran\xe7ais"}),t.jsx("option",{value:"de",children:"Deutsch"}),t.jsx("option",{value:"ru",children:"Русский"})]})})]}),(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",onClick:()=>v("Dark Mode Toggle","Theme switching is coming soon!"),children:[t.jsx("input",{type:"checkbox",checked:P.darkMode,className:"rounded border-gray-300 dark:border-gray-600 opacity-75 pointer-events-none",disabled:!0}),t.jsx("span",{className:"ml-2 text-sm dark:text-gray-300",children:"Enable dark mode by default"})]}),(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",onClick:()=>v("Email Notifications","Email Notifications is coming soon!"),children:[t.jsx("input",{type:"checkbox",checked:P.emailNotifications,className:"rounded border-gray-300 dark:border-gray-600 opacity-75 pointer-events-none",disabled:!0}),t.jsx("span",{className:"ml-2 text-sm dark:text-gray-300",children:"Enable email notifications"})]})]})]}),n.preferences&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[t.jsx(p.Z,{className:"w-4 h-4"}),t.jsx("span",{children:n.preferences})]}),d.preferences&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-green-500 text-sm",children:[t.jsx(u.Z,{className:"w-4 h-4"}),t.jsx("span",{children:"Preferences updated successfully!"})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Z,disabled:s.preferences,className:"btn-primary px-6 py-2 rounded-lg flex items-center space-x-2",children:s.preferences?(0,t.jsxs)(t.Fragment,{children:[t.jsx(h.Z,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:"Saving..."})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(g,{className:"w-4 h-4"}),t.jsx("span",{children:"Save Preferences"})]})})})]})]})};var C=a(5932),Z=a(31540),S=a(37202);let E=({variants:e,loading:s,setLoading:a,errors:n,setErrors:l,success:c,setSuccess:d})=>{let{user:x,updateProfile:m}=(0,j.a)(),{showDemoRestriction:f}=(0,y.a)(),{showComingSoon:v}=(0,k.m)(),[N,w]=(0,r.useState)(!1),[P,E]=(0,r.useState)(""),[A,M]=(0,r.useState)({emailNotifications:x?.preferences?.emailNotifications??!0,securityAlerts:!0,productUpdates:!1,marketingCommunications:!1}),R=async()=>{if(x?.role==="demo"){f("Demo Account Restriction","Notification settings update is not available in demo mode. Please use a full account to access all features.","Update Notification Settings");return}a(e=>({...e,preferences:!0})),l({});try{let e=await b.ZP.auth.updateProfile({preferences:{defaultQRSize:x?.preferences?.defaultQRSize||256,defaultQRColor:x?.preferences?.defaultQRColor||"#000000",emailNotifications:A.emailNotifications,darkMode:x?.preferences?.darkMode??!1,language:x?.preferences?.language||"en"}});if(e.success&&e.data)m(e.data.user),d(e=>({...e,preferences:!0})),setTimeout(()=>d(e=>({...e,preferences:!1})),3e3);else throw Error(e.message||"Failed to update notification settings")}catch(e){l({preferences:e instanceof Error?e.message:"Failed to update notification settings"})}finally{a(e=>({...e,preferences:!1}))}},D=async()=>{a(e=>({...e,export:!0})),l({});try{let e=await b.ZP.urls.export({format:"csv",includeAnalytics:!0,includeInactive:!1}),s=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(s),t=document.createElement("a");t.href=a,t.download=`account-data-export-${new Date().toISOString().slice(0,10)}.csv`,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a),d(e=>({...e,export:!0})),setTimeout(()=>d(e=>({...e,export:!1})),5e3)}catch(e){l({export:e instanceof Error?e.message:"Failed to export data"})}finally{a(e=>({...e,export:!1}))}},F=async()=>{if(x?.role==="demo"){f("Demo Account Restriction","Account deactivation is not available in demo mode. Please use a full account to access all features.","Deactivate Account");return}if(!N){w(!0);return}a(e=>({...e,deactivate:!0})),l({});try{let e=await b.ZP.auth.deactivateAccount(P||void 0);if(e.success)d(e=>({...e,deactivate:!0})),setTimeout(()=>{alert("Account deactivation initiated. You will be logged out.")},1e3);else throw Error(e.message||"Failed to deactivate account")}catch(e){l({deactivate:e instanceof Error?e.message:"Failed to deactivate account"})}finally{a(e=>({...e,deactivate:!1}))}};return(0,t.jsxs)(i.E.div,{variants:e,initial:"hidden",animate:"visible",exit:"exit",className:"card p-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[t.jsx(o.Z,{className:"w-6 h-6 text-blue-500"}),t.jsx("h3",{className:"text-xl font-semibold dark:text-white",children:"Notification Settings"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium dark:text-white mb-4 flex items-center space-x-2",children:[t.jsx(C.Z,{className:"w-5 h-5 text-blue-500"}),t.jsx("span",{children:"Email Notifications"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium dark:text-white",children:"Weekly Reports"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Get weekly analytics summaries via email"})]}),t.jsx("input",{type:"checkbox",checked:A.emailNotifications,onChange:e=>M(s=>({...s,emailNotifications:e.target.checked})),className:"rounded border-gray-300 dark:border-gray-600",disabled:s.preferences})]}),(0,t.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",onClick:()=>v("Security Alerts","Advanced security notification settings are coming soon!"),children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium dark:text-white",children:"Security Alerts"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Notifications about login attempts and security events"})]}),t.jsx("input",{type:"checkbox",checked:A.securityAlerts,className:"rounded border-gray-300 dark:border-gray-600 pointer-events-none opacity-75",disabled:!0})]}),(0,t.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",onClick:()=>v("Product Updates","Product update notifications are coming soon!"),children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium dark:text-white",children:"Product Updates"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"News about new features and platform updates"})]}),t.jsx("input",{type:"checkbox",checked:A.productUpdates,className:"rounded border-gray-300 dark:border-gray-600 pointer-events-none opacity-75",disabled:!0})]}),(0,t.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",onClick:()=>v("Marketing Communications","Marketing communication preferences are coming soon!"),children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium dark:text-white",children:"Marketing Communications"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tips, tutorials, and promotional content"})]}),t.jsx("input",{type:"checkbox",checked:A.marketingCommunications,className:"rounded border-gray-300 dark:border-gray-600 pointer-events-none opacity-75",disabled:!0})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium dark:text-white mb-4 flex items-center space-x-2",children:[t.jsx(Z.Z,{className:"w-5 h-5 text-green-500"}),t.jsx("span",{children:"Data Export"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[t.jsx("h5",{className:"font-medium dark:text-white mb-2",children:"Export Account Data"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Download a copy of all your data including URLs, analytics, and settings."}),c.export&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-green-500 text-sm mb-3",children:[t.jsx(u.Z,{className:"w-4 h-4"}),t.jsx("span",{children:"Data export request submitted! Check your email for download link."})]}),n.export&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-red-500 text-sm mb-3",children:[t.jsx(p.Z,{className:"w-4 h-4"}),t.jsx("span",{children:n.export})]}),t.jsx(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:D,disabled:s.export,className:"btn-secondary px-4 py-2 rounded-lg flex items-center space-x-2",children:s.export?(0,t.jsxs)(t.Fragment,{children:[t.jsx(h.Z,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:"Requesting..."})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(Z.Z,{className:"w-4 h-4"}),t.jsx("span",{children:"Request Data Export"})]})})]}),(0,t.jsxs)("div",{className:"p-4 border border-red-200 dark:border-red-800 rounded-lg bg-red-50 dark:bg-red-900/20",children:[t.jsx("h5",{className:"font-medium text-red-800 dark:text-red-200 mb-2",children:"Deactivate Account"}),t.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mb-3",children:"Permanently deactivate your account and all associated data. This action cannot be undone."}),N&&(0,t.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-yellow-700 dark:text-yellow-300",children:[t.jsx(S.Z,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Are you sure? This action cannot be undone."})]}),t.jsx("textarea",{value:P,onChange:e=>E(e.target.value),placeholder:"Optional: Tell us why you're leaving (helps us improve)",className:"w-full p-2 border border-red-300 dark:border-red-600 rounded text-sm",rows:3,disabled:s.deactivate})]}),n.deactivate&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-red-500 text-sm mb-3",children:[t.jsx(p.Z,{className:"w-4 h-4"}),t.jsx("span",{children:n.deactivate})]}),c.deactivate&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-green-500 text-sm mb-3",children:[t.jsx(u.Z,{className:"w-4 h-4"}),t.jsx("span",{children:"Account deactivation initiated successfully."})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[N&&t.jsx(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>w(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm",disabled:s.deactivate,children:"Cancel"}),t.jsx(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:F,disabled:s.deactivate,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm flex items-center space-x-2",children:s.deactivate?(0,t.jsxs)(t.Fragment,{children:[t.jsx(h.Z,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:"Processing..."})]}):t.jsx("span",{children:N?"Confirm Deactivation":"Deactivate Account"})})]})]})]})]}),n.preferences&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[t.jsx(p.Z,{className:"w-4 h-4"}),t.jsx("span",{children:n.preferences})]}),c.preferences&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-green-500 text-sm",children:[t.jsx(u.Z,{className:"w-4 h-4"}),t.jsx("span",{children:"Notification settings updated successfully!"})]}),t.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:t.jsx(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:R,disabled:s.preferences,className:"btn-primary px-6 py-2 rounded-lg flex items-center space-x-2",children:s.preferences?(0,t.jsxs)(t.Fragment,{children:[t.jsx(h.Z,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:"Saving..."})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(g,{className:"w-4 h-4"}),t.jsx("span",{children:"Save Notification Settings"})]})})})]})]})};var A=a(76828),M=a(91216),R=a(12714);let D=({variants:e,loading:s,setLoading:a,errors:n,setErrors:l,success:c,setSuccess:o})=>{let{user:x}=(0,j.a)(),{showDemoRestriction:m}=(0,y.a)(),[f,g]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[v,N]=(0,r.useState)({}),w=async e=>{if(e.preventDefault(),x?.role==="demo"){m("Demo Account Restriction","Password change is not available in demo mode. Please use a full account to access all features.","Change Password");return}if(a(e=>({...e,password:!0})),l({}),f.newPassword!==f.confirmPassword){l({password:"New passwords don't match"}),a(e=>({...e,password:!1}));return}if(f.newPassword.length<6){l({password:"Password must be at least 6 characters"}),a(e=>({...e,password:!1}));return}try{let e=await b.ZP.auth.changePassword({currentPassword:f.currentPassword,newPassword:f.newPassword});if(e.success)o(e=>({...e,password:!0})),g({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>o(e=>({...e,password:!1})),3e3);else throw Error(e.message||"Failed to change password")}catch(e){l({password:e instanceof Error?e.message:"Failed to change password"})}finally{a(e=>({...e,password:!1}))}},k=e=>{N(s=>({...s,[e]:!s[e]}))};return(0,t.jsxs)(i.E.div,{variants:e,initial:"hidden",animate:"visible",exit:"exit",className:"card p-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[t.jsx(d.Z,{className:"w-6 h-6 text-blue-500"}),t.jsx("h3",{className:"text-xl font-semibold dark:text-white",children:"Security Settings"})]}),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium dark:text-white mb-4 flex items-center space-x-2",children:[t.jsx(A.Z,{className:"w-5 h-5 text-orange-500"}),t.jsx("span",{children:"Change Password"})]}),(0,t.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Current Password"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("input",{type:v.current?"text":"password",value:f.currentPassword,onChange:e=>g(s=>({...s,currentPassword:e.target.value})),className:"input-base pr-10",required:!0,disabled:s.password}),t.jsx("button",{type:"button",onClick:()=>k("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:v.current?t.jsx(M.Z,{className:"w-4 h-4 text-gray-400"}):t.jsx(R.Z,{className:"w-4 h-4 text-gray-400"})})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"New Password"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("input",{type:v.new?"text":"password",value:f.newPassword,onChange:e=>g(s=>({...s,newPassword:e.target.value})),className:"input-base pr-10",required:!0,minLength:6,disabled:s.password}),t.jsx("button",{type:"button",onClick:()=>k("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:v.new?t.jsx(M.Z,{className:"w-4 h-4 text-gray-400"}):t.jsx(R.Z,{className:"w-4 h-4 text-gray-400"})})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Confirm New Password"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("input",{type:v.confirm?"text":"password",value:f.confirmPassword,onChange:e=>g(s=>({...s,confirmPassword:e.target.value})),className:"input-base pr-10",required:!0,disabled:s.password}),t.jsx("button",{type:"button",onClick:()=>k("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:v.confirm?t.jsx(M.Z,{className:"w-4 h-4 text-gray-400"}):t.jsx(R.Z,{className:"w-4 h-4 text-gray-400"})})]})]}),n.password&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[t.jsx(p.Z,{className:"w-4 h-4"}),t.jsx("span",{children:n.password})]}),c.password&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-green-500 text-sm",children:[t.jsx(u.Z,{className:"w-4 h-4"}),t.jsx("span",{children:"Password changed successfully!"})]}),t.jsx(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:s.password,className:"btn-primary px-6 py-2 rounded-lg flex items-center space-x-2",children:s.password?(0,t.jsxs)(t.Fragment,{children:[t.jsx(h.Z,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:"Changing..."})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(A.Z,{className:"w-4 h-4"}),t.jsx("span",{children:"Change Password"})]})})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium dark:text-white mb-4",children:"Account Security"}),(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[t.jsx("span",{className:"dark:text-gray-300",children:"Last login"}),t.jsx("span",{className:"dark:text-white",children:"Today, 2:30 PM"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[t.jsx("span",{className:"dark:text-gray-300",children:"Password last changed"}),t.jsx("span",{className:"dark:text-white",children:"2 months ago"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[t.jsx("span",{className:"dark:text-gray-300",children:"Account status"}),t.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Active"})]})]})]})]})]})},F=()=>{let{theme:e}=(0,m.Fg)(),[s,a]=(0,r.useState)("profile"),[p,u]=(0,r.useState)({}),[h,f]=(0,r.useState)({}),[g,j]=(0,r.useState)({}),y=[{id:"profile",label:"Profile",icon:l.Z},{id:"preferences",label:"Preferences",icon:c.Z},{id:"security",label:"Security",icon:d.Z},{id:"notifications",label:"Notifications",icon:o.Z}],b={hidden:{opacity:0,x:20},visible:{opacity:1,x:0},exit:{opacity:0,x:-20}};return t.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:t.jsx(x.Z,{title:"Profile Settings",description:"Manage your account information, preferences, and security settings",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsx("div",{className:"card p-4",children:t.jsx("nav",{className:"space-y-1",children:y.map(r=>{let n=r.icon,l=s===r.id;return(0,t.jsxs)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a(r.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${l?"bg-blue-600 text-white shadow-lg":"dark"===e?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:[t.jsx(n,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:r.label})]},r.id)})})})}),t.jsx("div",{className:"lg:col-span-3",children:(0,t.jsxs)(n.M,{mode:"wait",children:["profile"===s&&t.jsx(v,{variants:b,loading:p,setLoading:u,errors:h,setErrors:f,success:g,setSuccess:j},"profile"),"preferences"===s&&t.jsx(P,{variants:b,loading:p,setLoading:u,errors:h,setErrors:f,success:g,setSuccess:j},"preferences"),"security"===s&&t.jsx(D,{variants:b,loading:p,setLoading:u,errors:h,setErrors:f,success:g,setSuccess:j},"security"),"notifications"===s&&t.jsx(E,{variants:b,loading:p,setLoading:u,errors:h,setErrors:f,success:g,setSuccess:j},"notifications")]})})]})})})}},90841:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n,metadata:()=>i});var t=a(19510);let r=(0,a(68570).createProxy)(String.raw`C:\Users\Ваня\Desktop\snapurl\snap-url-admin\src\app\profile\ProfileContent.tsx#default`),i={title:"Profile Settings - SnapURL Admin",description:"Manage your profile information, preferences, and account settings.",keywords:"profile, account settings, user preferences, QR settings, notifications"};function n(){return t.jsx(r,{})}}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[35,649],()=>a(79447));module.exports=t})();