(()=>{var e={};e.id=710,e.ids=[710],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},43101:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>o}),a(30009),a(74614),a(70903);var s=a(23191),r=a(88716),i=a(37922),l=a.n(i),n=a(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(t,c);let o=["",{children:["urls",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,30009)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\urls\\create\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,74614)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,70903)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\not-found.tsx"]}],d=["C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\urls\\create\\page.tsx"],m="/urls/create/page",x={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/urls/create/page",pathname:"/urls/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},48262:(e,t,a)=>{Promise.resolve().then(a.bind(a,84334))},32933:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},43810:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},12714:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},54014:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},18019:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},92447:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},84334:(e,t,a)=>{"use strict";a.d(t,{default:()=>T});var s=a(10326),r=a(17577),i=a(35047),l=a(16856),n=a(86462),c=a(86333),o=a(21405),d=a(98058),m=a(23016),x=a(18069),h=a(74690),p=a(15560),u=a(32933),g=a(43810),y=a(98091);let b=({createdUrl:e,onDismiss:t})=>s.jsx(l.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(u.Z,{className:"w-5 h-5 text-green-500"}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"text-green-700 dark:text-green-400 font-medium",children:"URL created successfully!"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 mt-2",children:[(0,s.jsxs)("span",{className:"font-mono text-sm text-blue-600 dark:text-blue-400",children:["snap.ly/",e.shortCode]}),s.jsx(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x.ZP.utils.copyToClipboard(`snap.ly/${e.shortCode}`),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:s.jsx(g.Z,{className:"w-4 h-4"})})]})]}),s.jsx(l.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"text-green-600 dark:text-green-400",children:s.jsx(y.Z,{className:"w-4 h-4"})})]})});var j=a(75290),k=a(83855);let N=({bulkUrls:e,setBulkUrls:t,formData:a,setFormData:r,loading:i,errors:n,onSubmit:c})=>(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 dark:text-white",children:"Bulk URL Creation"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"URLs (one per line)"}),s.jsx("textarea",{value:e,onChange:e=>t(e.target.value),placeholder:"https://example1.com https://example2.com https://example3.com",className:"input-base h-48",disabled:i}),n.bulk&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.bulk})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.generateQR,onChange:e=>r(t=>({...t,generateQR:e.target.checked})),className:"rounded border-gray-300 dark:border-gray-600"}),s.jsx("span",{className:"ml-2 text-sm dark:text-gray-300",children:"Generate QR codes"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:a.fetchMetadata,onChange:e=>r(t=>({...t,fetchMetadata:e.target.checked})),className:"rounded border-gray-300 dark:border-gray-600"}),s.jsx("span",{className:"ml-2 text-sm dark:text-gray-300",children:"Fetch metadata"})]})]}),s.jsx(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,disabled:i||!e.trim(),className:"btn-primary px-6 py-3 rounded-lg flex items-center space-x-2",children:i?(0,s.jsxs)(s.Fragment,{children:[s.jsx(j.Z,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Creating URLs..."})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(k.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Create URLs"})]})})]})]});var f=a(17129),v=a(92447),w=a(58038),C=a(88378),S=a(51910);let U=({formData:e,setFormData:t,errors:a})=>{let[i,n]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),m=async()=>{if(e.originalUrl&&/^https?:\/\/.+/.test(e.originalUrl)){n(!0);try{let a=`https://api.allorigins.win/get?url=${encodeURIComponent(e.originalUrl)}`,s=await fetch(a),r=await s.json();if(r.contents){let a=new DOMParser().parseFromString(r.contents,"text/html"),s={title:a.querySelector("title")?.textContent||a.querySelector('meta[property="og:title"]')?.getAttribute("content")||"",description:a.querySelector('meta[name="description"]')?.getAttribute("content")||a.querySelector('meta[property="og:description"]')?.getAttribute("content")||"",image:a.querySelector('meta[property="og:image"]')?.getAttribute("content")||"",domain:new URL(e.originalUrl).hostname};d(s),!e.title&&s.title&&t(e=>({...e,title:s.title})),!e.description&&s.description&&t(e=>({...e,description:s.description}))}}catch(e){console.error("Failed to fetch metadata:",e)}finally{n(!1)}}};return(0,s.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"card p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Basic Information"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"block text-sm font-medium dark:text-gray-300",children:"Original URL *"}),e.fetchMetadata&&(0,s.jsxs)(l.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:i||!e.originalUrl,className:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 flex items-center space-x-1",children:[i?s.jsx(j.Z,{className:"w-3 h-3 animate-spin"}):s.jsx(o.Z,{className:"w-3 h-3"}),s.jsx("span",{children:"Fetch Metadata"})]})]}),s.jsx("input",{type:"url",value:e.originalUrl,onChange:e=>t(t=>({...t,originalUrl:e.target.value})),placeholder:"https://example.com/your-long-url",className:`input-base ${a.originalUrl?"border-red-500":""}`,required:!0}),a.originalUrl&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.originalUrl})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Custom Alias (optional)"}),(0,s.jsxs)("div",{className:"flex",children:[s.jsx("span",{className:"inline-flex items-center px-3 border border-r-0 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-sm text-gray-500 dark:text-gray-400 rounded-l-md",children:"snap.ly/"}),s.jsx("input",{type:"text",value:e.customAlias,onChange:e=>t(t=>({...t,customAlias:e.target.value})),placeholder:"my-custom-link",className:`input-base rounded-l-none ${a.customAlias?"border-red-500":""}`})]}),a.customAlias&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.customAlias})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Title"}),s.jsx("input",{type:"text",value:e.title,onChange:e=>t(t=>({...t,title:e.target.value})),placeholder:"Give your link a memorable title",className:`input-base ${a.title?"border-red-500":""}`,maxLength:100}),a.title&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.title})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Description"}),s.jsx("textarea",{value:e.description,onChange:e=>t(t=>({...t,description:e.target.value})),placeholder:"Add a description for better organization",className:`input-base ${a.description?"border-red-500":""}`,rows:3,maxLength:500}),a.description&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.description})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Tags"}),s.jsx("input",{type:"text",value:e.tagsString,onChange:e=>t(t=>({...t,tagsString:e.target.value})),placeholder:"marketing, campaign, social (comma separated)",className:"input-base"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Separate tags with commas"})]}),c&&(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[s.jsx("h5",{className:"text-sm font-medium dark:text-white mb-2",children:"Fetched Metadata:"}),(0,s.jsxs)("div",{className:"space-y-1 text-xs text-gray-600 dark:text-gray-400",children:[(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Title:"})," ",c.title]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Description:"})," ",c.description]})]})]})]},"basic")};var R=a(31540);let P=({formData:e,setFormData:t,onComingSoon:a})=>{let[i,n]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),m=async()=>{if(e.originalUrl){d(!0);try{let t={originalUrl:e.originalUrl,generateQR:!1,fetchMetadata:!1,title:"Preview URL"},a=await x.ZP.urls.create(t);if(a.success&&a.data){let t=await x.ZP.urls.generateQR(a.data.url._id,{size:e.qrSettings.size,primaryColor:e.qrSettings.primaryColor,backgroundColor:e.qrSettings.backgroundColor,format:e.qrSettings.format});t.success&&t.data?.qrCode?.dataURL&&n(t.data.qrCode.dataURL),await x.ZP.urls.delete(a.data.url._id,!0)}}catch(e){console.error("Failed to generate QR preview:",e)}finally{d(!1)}}},h=async()=>{if(i)try{let t=document.createElement("a");t.href=i;let a=new Date().toISOString().slice(0,10),s=e.originalUrl?new URL(e.originalUrl).hostname:"url",r=`qr-${s}-${a}.${e.qrSettings.format}`;t.download=r,t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}catch(e){console.error("Failed to download QR code:",e)}};return(0,s.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"card p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"QR Code Settings"}),(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:e.generateQR,onChange:e=>t(t=>({...t,generateQR:e.target.checked})),className:"rounded border-gray-300 dark:border-gray-600"}),s.jsx("span",{className:"ml-2 text-sm dark:text-gray-300",children:"Generate QR Code"})]})]}),e.generateQR&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{onClick:()=>a("Custom QR Size"),children:[s.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300 cursor-pointer",children:"Size"}),s.jsx("select",{value:e.qrSettings.size,className:"input-base cursor-pointer opacity-50",disabled:!0,children:s.jsx("option",{value:256,children:"256x256 (Coming Soon)"})})]}),(0,s.jsxs)("div",{onClick:()=>a("Custom QR Format"),children:[s.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300 cursor-pointer",children:"Format"}),s.jsx("select",{value:e.qrSettings.format,className:"input-base cursor-pointer opacity-50",disabled:!0,children:s.jsx("option",{value:"png",children:"PNG (Coming Soon)"})})]}),(0,s.jsxs)("div",{onClick:()=>a("Custom QR Colors"),children:[s.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300 cursor-pointer",children:"Foreground Color"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"color",value:e.qrSettings.primaryColor,className:"w-12 h-10 border border-gray-300 dark:border-gray-600 rounded cursor-pointer opacity-50",disabled:!0}),s.jsx("input",{type:"text",value:"#000000 (Coming Soon)",className:"input-base flex-1 cursor-pointer opacity-50",disabled:!0})]})]}),(0,s.jsxs)("div",{onClick:()=>a("Custom QR Colors"),children:[s.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300 cursor-pointer",children:"Background Color"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"color",value:e.qrSettings.backgroundColor,className:"w-12 h-10 border border-gray-300 dark:border-gray-600 rounded cursor-pointer opacity-50",disabled:!0}),s.jsx("input",{type:"text",value:"#FFFFFF (Coming Soon)",className:"input-base flex-1 cursor-pointer opacity-50",disabled:!0})]})]}),(0,s.jsxs)("div",{onClick:()=>a("QR Error Correction"),children:[s.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300 cursor-pointer",children:"Error Correction"}),s.jsx("select",{value:e.qrSettings.errorCorrectionLevel,className:"input-base cursor-pointer opacity-50",disabled:!0,children:s.jsx("option",{value:"M",children:"Medium (Coming Soon)"})})]}),(0,s.jsxs)("div",{onClick:()=>a("QR Margin Settings"),children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300 cursor-pointer",children:["Margin: ",e.qrSettings.margin,"px (Coming Soon)"]}),s.jsx("input",{type:"range",min:"0",max:"20",value:e.qrSettings.margin,className:"w-full cursor-pointer opacity-50",disabled:!0})]})]}),e.generateQR&&(0,s.jsxs)("div",{className:"border-t pt-4 border-white/20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-medium dark:text-white",children:"Preview"}),(0,s.jsxs)(l.E.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:c||!e.originalUrl,className:"btn-secondary px-3 py-1 text-sm rounded-md flex items-center space-x-1",children:[c?s.jsx(j.Z,{className:"w-3 h-3 animate-spin"}):s.jsx(o.Z,{className:"w-3 h-3"}),s.jsx("span",{children:"Generate Preview"})]})]}),s.jsx("div",{className:"flex justify-center",children:i?(0,s.jsxs)("div",{className:"relative",children:[s.jsx("img",{src:i,alt:"QR Code Preview",className:"border border-gray-200 dark:border-gray-600 rounded",style:{width:Math.min(e.qrSettings.size,200),height:Math.min(e.qrSettings.size,200)}}),s.jsx(l.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:h,className:"absolute top-2 right-2 p-1 bg-white dark:bg-gray-800 rounded shadow-md",title:"Download QR Code",children:s.jsx(R.Z,{className:"w-4 h-4"})})]}):s.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center",style:{width:200,height:200},children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(v.Z,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"QR code preview"})]})})})]})]},"qr")};var E=a(54014),Z=a(12714),L=a(20176),M=a(76464);let D=({onComingSoon:e})=>(0,s.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"card p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Privacy & Security"}),s.jsx("div",{className:"space-y-3",children:(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",onClick:()=>e("Password Protection"),children:[s.jsx("input",{type:"checkbox",checked:!1,className:"rounded border-gray-300 dark:border-gray-600 opacity-50",disabled:!0}),s.jsx("span",{className:"ml-2 text-sm font-medium dark:text-gray-300",children:"Password Protection (Coming Soon)"})]})}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium dark:text-white",children:"Visibility Settings (Coming Soon)"}),(0,s.jsxs)("div",{className:"space-y-2 opacity-50",children:[(0,s.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",onClick:()=>e("Public URL Settings"),children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(E.Z,{className:"w-4 h-4 text-gray-500 mr-2"}),s.jsx("span",{className:"text-sm dark:text-gray-300",children:"Public URL"})]}),s.jsx("input",{type:"checkbox",checked:!0,className:"rounded border-gray-300 dark:border-gray-600",disabled:!0})]}),(0,s.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",onClick:()=>e("Preview Settings"),children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(Z.Z,{className:"w-4 h-4 text-gray-500 mr-2"}),s.jsx("span",{className:"text-sm dark:text-gray-300",children:"Allow Preview"})]}),s.jsx("input",{type:"checkbox",checked:!0,className:"rounded border-gray-300 dark:border-gray-600",disabled:!0})]}),(0,s.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",onClick:()=>e("Click Tracking"),children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(L.Z,{className:"w-4 h-4 text-gray-500 mr-2"}),s.jsx("span",{className:"text-sm dark:text-gray-300",children:"Enable Click Tracking"})]}),s.jsx("input",{type:"checkbox",checked:!0,className:"rounded border-gray-300 dark:border-gray-600",disabled:!0})]}),(0,s.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",onClick:()=>e("Public Statistics"),children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(M.Z,{className:"w-4 h-4 text-gray-500 mr-2"}),s.jsx("span",{className:"text-sm dark:text-gray-300",children:"Public Statistics"})]}),s.jsx("input",{type:"checkbox",checked:!0,className:"rounded border-gray-300 dark:border-gray-600",disabled:!0})]})]})]}),s.jsx("div",{className:"space-y-3",children:(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",onClick:()=>e("URL Expiration"),children:[s.jsx("input",{type:"checkbox",checked:!1,className:"rounded border-gray-300 dark:border-gray-600 opacity-50",disabled:!0}),s.jsx("span",{className:"ml-2 text-sm font-medium dark:text-gray-300",children:"Set Expiration Date (Coming Soon)"})]})})]},"privacy");var F=a(18019);let q=({formData:e,setFormData:t,onComingSoon:a})=>{let[i,n]=(0,r.useState)(null);(0,r.useEffect)(()=>{e.fetchMetadata&&e.originalUrl&&c()},[e.originalUrl,e.fetchMetadata]);let c=async()=>{if(e.originalUrl&&/^https?:\/\/.+/.test(e.originalUrl))try{let t=`https://api.allorigins.win/get?url=${encodeURIComponent(e.originalUrl)}`,a=await fetch(t),s=await a.json();if(s.contents){let t=new DOMParser().parseFromString(s.contents,"text/html"),a={title:t.querySelector("title")?.textContent||t.querySelector('meta[property="og:title"]')?.getAttribute("content")||"",description:t.querySelector('meta[name="description"]')?.getAttribute("content")||t.querySelector('meta[property="og:description"]')?.getAttribute("content")||"",image:t.querySelector('meta[property="og:image"]')?.getAttribute("content")||"",domain:new URL(e.originalUrl).hostname};n(a)}}catch(e){console.error("Failed to fetch metadata:",e)}};return(0,s.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"card p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Advanced Options"}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium dark:text-white",children:"Metadata"}),(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:e.fetchMetadata,onChange:e=>t(t=>({...t,fetchMetadata:e.target.checked})),className:"rounded border-gray-300 dark:border-gray-600"}),s.jsx("span",{className:"ml-2 text-sm dark:text-gray-300",children:"Auto-fetch page metadata"})]}),i&&(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[s.jsx("h5",{className:"text-sm font-medium dark:text-white mb-2",children:"Fetched Metadata:"}),(0,s.jsxs)("div",{className:"space-y-1 text-xs text-gray-600 dark:text-gray-400",children:[(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Title:"})," ",i.title]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Description:"})," ",i.description]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium dark:text-white",children:"Analytics (Coming Soon)"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 opacity-50",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:!0,className:"rounded border-gray-300 dark:border-gray-600",disabled:!0}),s.jsx("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:"Basic Analytics (Always On)"})]}),(0,s.jsxs)("label",{className:"flex items-center cursor-pointer",onClick:()=>a("Detailed Tracking"),children:[s.jsx("input",{type:"checkbox",checked:!1,className:"rounded border-gray-300 dark:border-gray-600",disabled:!0}),s.jsx("span",{className:"ml-2 text-sm dark:text-gray-300",children:"Detailed Tracking"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium dark:text-white",children:"Custom Domain (Coming Soon)"}),(0,s.jsxs)("div",{className:"relative cursor-pointer",onClick:()=>a("Custom Domain"),children:[s.jsx("input",{type:"text",placeholder:"custom.domain.com (Coming Soon)",className:"input-base opacity-50",disabled:!0}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:s.jsx(F.Z,{className:"w-4 h-4 text-gray-400"})})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Custom domains will be available in a future update"})]})]},"advanced")},A=({formData:e,setFormData:t,loading:a,errors:i,setErrors:c,onSubmit:o,theme:d})=>{let{user:m}=(0,h.a)(),{showDemoRestriction:x}=(0,p.a)(),{showComingSoon:u}=(0,S.m)(),[g,y]=(0,r.useState)("basic"),b=[{id:"basic",label:"Basic",icon:f.Z},{id:"qr",label:"QR Code",icon:v.Z},{id:"privacy",label:"Privacy",icon:w.Z},{id:"advanced",label:"Advanced",icon:C.Z}],N=()=>m?.role!=="demo"||(x("Demo Account Restriction","URL creation is not available in demo mode. Please use a full account to access all features.","Create URL"),!1),R=e=>{u(e,"This feature is under development and will be available soon. Stay tuned for updates!")},E=()=>{let t={};return e.originalUrl?/^https?:\/\/.+/.test(e.originalUrl)||(t.originalUrl="Please enter a valid URL (must start with http:// or https://)"):t.originalUrl="URL is required",e.customAlias&&!/^[a-zA-Z0-9_-]{3,30}$/.test(e.customAlias)&&(t.customAlias="Custom alias must be 3-30 characters (letters, numbers, - and _ only)"),e.title&&e.title.length>100&&(t.title="Title must be less than 100 characters"),e.description&&e.description.length>500&&(t.description="Description must be less than 500 characters"),e.enablePassword&&(!e.password||e.password.length<4)&&(t.password="Password must be at least 4 characters"),e.enableExpiration&&!e.customExpirationDate&&(t.customExpirationDate="Please select an expiration date"),c(t),0===Object.keys(t).length};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[s.jsx("div",{className:"hidden sm:flex space-x-1",children:b.map(e=>(0,s.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>y(e.id),className:`flex-1 flex items-center justify-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${g===e.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}`,children:[s.jsx(e.icon,{className:"w-4 h-4"}),s.jsx("span",{children:e.label})]},e.id))}),s.jsx("div",{className:"flex sm:hidden space-x-1",children:b.map(e=>(0,s.jsxs)(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>y(e.id),className:`flex-1 flex flex-col items-center justify-center px-2 py-3 rounded-md text-xs font-medium transition-colors ${g===e.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}`,title:e.label,children:[s.jsx(e.icon,{className:"w-5 h-5 mb-1"}),s.jsx("span",{className:"truncate",children:e.label})]},e.id))})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),N()&&E()&&o(e)},className:"space-y-6",children:[(0,s.jsxs)(n.M,{mode:"wait",children:["basic"===g&&s.jsx(U,{formData:e,setFormData:t,errors:i,theme:d}),"qr"===g&&s.jsx(P,{formData:e,setFormData:t,theme:d,onComingSoon:R}),"privacy"===g&&s.jsx(D,{formData:e,setFormData:t,errors:i,theme:d,onComingSoon:R}),"advanced"===g&&s.jsx(q,{formData:e,setFormData:t,theme:d,onComingSoon:R})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex justify-end space-x-3 pt-6",children:[s.jsx(l.E.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.location.reload(),className:"btn-secondary px-6 py-3 rounded-lg",disabled:a,children:"Reset"}),s.jsx(l.E.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn-primary px-6 py-3 rounded-lg flex items-center space-x-2",disabled:a||!e.originalUrl,children:a?(0,s.jsxs)(s.Fragment,{children:[s.jsx(j.Z,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Creating..."})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(k.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Create URL"})]})})]})]})]})},Q=()=>{let{user:e}=(0,h.a)(),[t,a]=(0,r.useState)(null),[i,n]=(0,r.useState)(!0),[c,o]=(0,r.useState)(null);if((0,r.useEffect)(()=>{(async()=>{if(!e){n(!1);return}try{n(!0),o(null);let e=await x.ZP.analytics.getDashboard({limit:20});if(e.success&&e.data)a(e.data);else throw Error(e.message||"Failed to fetch dashboard data")}catch(e){console.error("Failed to fetch sidebar data:",e),o(e instanceof Error?e.message:"Failed to load data")}finally{n(!1)}})()},[e]),!e)return s.jsx("div",{className:"space-y-6",children:s.jsx(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"card p-4",children:s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Please log in to view your statistics"})})});let d=t?.topUrls?.length||0,m=t?.overview?.totalClicks||0,p=t?.trends?.filter(e=>{let t=new Date(e.date),a=new Date;return a.setDate(a.getDate()-30),t>=a}).reduce((e,t)=>e+t.clicks,0)||0;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"card p-4",children:[s.jsx("h4",{className:"font-medium dark:text-white mb-3",children:"Quick Stats"}),i?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx(j.Z,{className:"w-5 h-5 animate-spin text-gray-400"})}):c?s.jsx("div",{className:"text-sm text-red-500 dark:text-red-400",children:c}):(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"URLs Created:"}),s.jsx("span",{className:"font-medium dark:text-white",children:d.toLocaleString()})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Clicks:"}),s.jsx("span",{className:"font-medium dark:text-white",children:m.toLocaleString()})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"This Month:"}),s.jsx("span",{className:"font-medium dark:text-white",children:p.toLocaleString()})]})]})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"card p-4",children:[s.jsx("h4",{className:"font-medium dark:text-white mb-3",children:"Tips"}),(0,s.jsxs)("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-2",children:[s.jsx(F.Z,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),s.jsx("p",{children:"Use descriptive titles and tags to organize your URLs better"})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-2",children:[s.jsx(w.Z,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),s.jsx("p",{children:"Password protection adds an extra layer of security"})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-2",children:[s.jsx(v.Z,{className:"w-4 h-4 text-purple-500 mt-0.5 flex-shrink-0"}),s.jsx("p",{children:"QR codes work great for offline marketing materials"})]})]})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"card p-4",children:[s.jsx("h4",{className:"font-medium dark:text-white mb-3",children:"Recent URLs"}),i?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx(j.Z,{className:"w-5 h-5 animate-spin text-gray-400"})}):c?s.jsx("div",{className:"text-sm text-red-500 dark:text-red-400",children:"Failed to load recent URLs"}):t?.topUrls&&t.topUrls.length>0?s.jsx("div",{className:"space-y-2",children:t.topUrls.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium dark:text-white truncate",children:e.title||"Untitled"}),(0,s.jsxs)("p",{className:"text-blue-500 font-mono text-xs truncate",children:["snap.ly/",e.shortCode]})]}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400 ml-2 flex-shrink-0",children:e.clickCount})]},e._id||t))}):s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No URLs created yet. Create your first shortened URL above!"})]})]})},T=()=>{let{theme:e}=(0,m.Fg)(),t=(0,i.useRouter)(),{user:a}=(0,h.a)(),{showDemoRestriction:u}=(0,p.a)(),[g,y]=(0,r.useState)(!1),[j,k]=(0,r.useState)(!1),[f,v]=(0,r.useState)({}),[w,C]=(0,r.useState)(null),[S,U]=(0,r.useState)(!1),[R,P]=(0,r.useState)({originalUrl:"",customAlias:"",title:"",description:"",tagsString:"",generateQR:!0,fetchMetadata:!0,password:"",enablePassword:!1,enableExpiration:!1,customExpirationDate:"",qrSettings:{size:256,primaryColor:"#000000",backgroundColor:"#FFFFFF",format:"png",margin:4,errorCorrectionLevel:"M"},privacySettings:{isPublic:!0,allowPreview:!0,enableStats:!0,enableTracking:!0}}),[E,Z]=(0,r.useState)(""),L=async e=>{if(e.preventDefault(),a?.role==="demo"){u("Demo Account Restriction","URL creation is not available in demo mode. Please use a full account to access all features.","Create URL");return}k(!0),v({});try{let e={originalUrl:R.originalUrl,generateQR:R.generateQR,fetchMetadata:R.fetchMetadata,...R.customAlias&&{customAlias:R.customAlias},...R.title&&{title:R.title},...R.description&&{description:R.description},...R.tagsString&&{tags:R.tagsString.split(",").map(e=>e.trim()).filter(Boolean)},...R.enableExpiration&&R.customExpirationDate&&{expiresIn:Math.ceil((new Date(R.customExpirationDate).getTime()-Date.now())/864e5)}},t=await x.ZP.urls.create(e);if(t.success&&t.data){if(C(t.data.url),U(!0),R.generateQR&&R.qrSettings)try{await x.ZP.urls.generateQR(t.data.url._id,{size:R.qrSettings.size,primaryColor:R.qrSettings.primaryColor,backgroundColor:R.qrSettings.backgroundColor,format:R.qrSettings.format})}catch(e){console.error("QR generation failed:",e)}}else throw Error(t.message||"Failed to create URL")}catch(e){console.error("Error creating URL:",e),v({general:e instanceof Error?e.message:"Failed to create URL. Please try again."})}finally{k(!1)}},M=async()=>{console.log(a?.role);let e=E.split("\n").map(e=>e.trim()).filter(e=>e&&/^https?:\/\/.+/.test(e)).map(e=>({originalUrl:e}));if(0===e.length){v({bulk:"Please enter valid URLs"});return}if(a?.role==="demo"){u("Demo Account Restriction","URL creation is not available in demo mode. Please use a full account to access all features.","Create URLs");return}k(!0),v({});try{(await x.ZP.urls.bulkCreate({urls:e,generateQR:R.generateQR??!1,fetchMetadata:R.fetchMetadata??!1,skipDuplicates:!0})).success&&(U(!0),Z(""))}catch(e){v({bulk:"Failed to create URLs"})}finally{k(!1)}};return s.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(0,s.jsxs)(d.Z,{title:"Create New URL",description:"Create and customize your shortened URLs with advanced settings",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t.back(),className:"btn-ghost p-2 rounded-lg",children:s.jsx(c.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>y(!1),className:`px-4 py-2 rounded-lg transition-colors ${g?"dark"===e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white"}`,children:"Single URL"}),s.jsx(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>y(!0),className:`px-4 py-2 rounded-lg transition-colors ${g?"bg-blue-600 text-white":"dark"===e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Bulk Create"})]})]}),s.jsx(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{P({originalUrl:"",customAlias:"",title:"",description:"",tagsString:"",generateQR:!0,fetchMetadata:!0,password:"",enablePassword:!1,enableExpiration:!1,customExpirationDate:"",qrSettings:{size:256,primaryColor:"#000000",backgroundColor:"#FFFFFF",format:"png",margin:4,errorCorrectionLevel:"M"},privacySettings:{isPublic:!0,allowPreview:!0,enableStats:!0,enableTracking:!0}}),v({}),C(null),U(!1)},className:"btn-ghost p-2 rounded-lg",title:"Reset form",children:s.jsx(o.Z,{className:"w-5 h-5"})})]}),s.jsx(n.M,{children:S&&w&&s.jsx(b,{createdUrl:w,onDismiss:()=>U(!1),theme:e})}),s.jsx(n.M,{children:f.general&&s.jsx(l.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-red-700 dark:text-red-400",children:f.general})})}),g?s.jsx(N,{bulkUrls:E,setBulkUrls:Z,formData:R,setFormData:P,loading:j,errors:f,onSubmit:M,theme:e}):(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(A,{formData:R,setFormData:P,loading:j,errors:f,setErrors:v,onSubmit:L,theme:e})}),s.jsx("div",{children:s.jsx(Q,{theme:e})})]})]})})}},30009:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>i});var s=a(19510);let r=(0,a(68570).createProxy)(String.raw`C:\Users\Ваня\Desktop\snapurl\snap-url-admin\src\app\urls\create\CreateNewUrlContent.tsx#default`),i={title:"Create New URL - SnapURL Admin",description:"Create and customize your shortened URLs with advanced settings including QR codes, privacy options, and analytics.",keywords:"create URL, short links, QR codes, URL customization, link management"};function l(){return s.jsx(r,{})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[35,649],()=>a(43101));module.exports=s})();