(()=>{var e={};e.id=675,e.ids=[675],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},91420:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d}),a(34911),a(74614),a(70903);var s=a(23191),i=a(88716),r=a(37922),l=a.n(r),n=a(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(t,c);let d=["",{children:["urls",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,34911)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\urls\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,74614)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,70903)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\not-found.tsx"]}],o=["C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\urls\\page.tsx"],x="/urls/page",h={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/urls/page",pathname:"/urls",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9573:(e,t,a)=>{Promise.resolve().then(a.bind(a,4987))},37358:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},32933:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},43810:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},7027:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},12714:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},231:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},92447:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},63685:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},4987:(e,t,a)=>{"use strict";a.d(t,{default:()=>I});var s=a(10326),i=a(17577),r=a(16856),l=a(86462),n=a(83855),c=a(31540),d=a(98091),o=a(21405),x=a(63685),h=a(88307),m=a(75290),p=a(76557);let y=(0,p.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var g=a(39183),u=a(98058),b=a(23016),j=a(18069),v=a(51910),f=a(74690),k=a(15560),w=a(17129);let N=({searchQuery:e,onCreateClick:t})=>(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:s.jsx(w.Z,{className:"w-12 h-12 text-gray-400"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:e?"No URLs found":"No URLs yet"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:e?`No URLs match "${e}". Try adjusting your search or filters.`:"Get started by creating your first shortened URL. It only takes a few seconds!"}),!e&&(0,s.jsxs)("button",{onClick:t,className:"btn-primary px-6 py-3 rounded-lg flex items-center space-x-2 mx-auto",children:[s.jsx(n.Z,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Your First URL"})]})]});var C=a(32933),E=a(43810),U=a(231),R=a(92447),L=a(76464);let $=(0,p.Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);var Z=a(7027),A=a(20176),S=a(12714),T=a(37358),M=a(48998),P=a(90434),D=a(71054),H=a(94019);let _=({qrCode:e,shortUrl:t,title:a,onClose:l,theme:n})=>{let[d,o]=(0,i.useState)(!1),x=async()=>{o(!0);try{let a=document.createElement("a");a.href=e.dataURL,a.download=`qr-${t.replace(/[^a-zA-Z0-9]/g,"")}.png`,document.body.appendChild(a),a.click(),document.body.removeChild(a)}finally{o(!1)}};return s.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:l,children:(0,s.jsxs)(r.E.div,{variants:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.8,transition:{duration:.2}}},initial:"hidden",animate:"visible",exit:"exit",onClick:e=>e.stopPropagation(),className:`max-w-md w-full rounded-lg shadow-xl p-6 ${"dark"===n?"bg-gray-800":"bg-white"}`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:`text-lg font-semibold ${"dark"===n?"text-white":"text-gray-900"}`,children:"QR Code"}),s.jsx(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:l,className:`p-1 rounded-lg ${"dark"===n?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:s.jsx(H.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(r.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},className:"bg-white p-4 rounded-lg inline-block mb-4",children:e.dataURL?s.jsx("img",{src:e.dataURL,alt:"QR Code",className:"w-48 h-48"}):s.jsx("div",{className:"w-48 h-48 flex items-center justify-center",children:s.jsx(m.Z,{className:"w-8 h-8 animate-spin text-gray-500"})})}),s.jsx("p",{className:`text-sm mb-2 ${"dark"===n?"text-gray-400":"text-gray-600"}`,children:a||"Scan to visit"}),s.jsx("p",{className:"font-mono text-sm text-blue-500 mb-4",children:t}),(0,s.jsxs)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,disabled:d,className:"btn-primary px-4 py-2 rounded-lg flex items-center space-x-2 mx-auto",children:[d?s.jsx(m.Z,{className:"w-4 h-4 animate-spin"}):s.jsx(c.Z,{className:"w-4 h-4"}),s.jsx("span",{children:d?"Downloading...":"Download QR Code"})]})]})]})})};var z=a(87888);let F=({url:e,onClose:t,onSuccess:a,theme:l})=>{let[n,c]=(0,i.useState)({title:e.title||"",description:e.description||"",isActive:e.isActive}),[d,o]=(0,i.useState)(!1),[x,h]=(0,i.useState)({}),{addNotification:p}=(0,D.z)(),y=async t=>{t.preventDefault(),o(!0),h({});try{let t={};if(n.title!==(e.title||"")&&(t.title=n.title),n.description!==(e.description||"")&&(t.description=n.description),n.isActive!==e.isActive&&(t.isActive=n.isActive),n.title&&n.title.length>100){h({title:"Title must be less than 100 characters"});return}if(n.description&&n.description.length>500){h({description:"Description must be less than 500 characters"});return}a(t),p("URL updated Successfully!",`Short URL has been updated: ${e.shortUrl}`)}catch(e){h({general:"Failed to update URL"})}finally{o(!1)}};return s.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t,children:(0,s.jsxs)(r.E.div,{variants:{hidden:{opacity:0,scale:.9,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.9,y:20,transition:{duration:.2}}},initial:"hidden",animate:"visible",exit:"exit",onClick:e=>e.stopPropagation(),className:`max-w-lg w-full rounded-lg shadow-xl ${"dark"===l?"bg-gray-800":"bg-white"}`,children:[(0,s.jsxs)("div",{className:`flex items-center justify-between p-6 border-b ${"dark"===l?"border-gray-700":"border-gray-200"}`,children:[s.jsx("h2",{className:`text-xl font-semibold ${"dark"===l?"text-white":"text-gray-900"}`,children:"Edit URL"}),s.jsx(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:`p-1 rounded-lg ${"dark"===l?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:s.jsx(H.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("form",{onSubmit:y,className:"p-6 space-y-4",children:[(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${"dark"===l?"text-gray-300":"text-gray-700"}`,children:"Title"}),s.jsx("input",{type:"text",value:n.title,onChange:e=>c(t=>({...t,title:e.target.value})),className:`input-base ${x.title?"border-red-500":""}`,placeholder:"Enter URL title",maxLength:100}),x.title&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:x.title})]}),(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${"dark"===l?"text-gray-300":"text-gray-700"}`,children:"Description"}),s.jsx("textarea",{value:n.description,onChange:e=>c(t=>({...t,description:e.target.value})),className:`input-base ${x.description?"border-red-500":""}`,rows:3,placeholder:"Enter description",maxLength:500}),x.description&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:x.description})]}),(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:n.isActive,onChange:e=>c(t=>({...t,isActive:e.target.checked})),className:"rounded border-gray-300 dark:border-gray-600"}),s.jsx("label",{htmlFor:"isActive",className:`ml-2 text-sm ${"dark"===l?"text-gray-300":"text-gray-700"}`,children:"URL is active"})]}),x.general&&(0,s.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center space-x-2 text-red-500 text-sm",children:[s.jsx(z.Z,{className:"w-4 h-4"}),s.jsx("span",{children:x.general})]}),(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"flex justify-end space-x-3 pt-4",children:[s.jsx(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:t,className:"btn-secondary px-4 py-2 rounded-lg",disabled:d,children:"Cancel"}),s.jsx(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"btn-primary px-4 py-2 rounded-lg flex items-center space-x-2",disabled:d,children:d?(0,s.jsxs)(s.Fragment,{children:[s.jsx(m.Z,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Saving..."})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(C.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Save Changes"})]})})]})]})]})})},q=({url:e,isSelected:t,onSelect:a,onDelete:n,onUpdate:c,onCopy:o,onGenerateQR:x,theme:h})=>{let[p,y]=(0,i.useState)(!1),[g,u]=(0,i.useState)(!1),[b,v]=(0,i.useState)(!1),[N,H]=(0,i.useState)(!1),[z,q]=(0,i.useState)(!1),{addNotification:Q}=(0,D.z)(),{showDemoRestriction:O}=(0,k.a)(),{user:I}=(0,f.a)(),G={hidden:{opacity:0,scale:.95,y:-10},visible:{opacity:1,scale:1,y:0,transition:{duration:.15,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:-10,transition:{duration:.1}}},V=async()=>{q(!0);try{await j.ZP.utils.copyToClipboard(`snap.ly/${e.shortCode}`)&&(H(!0),setTimeout(()=>H(!1),2e3),o())}catch(e){console.error("Failed to copy URL:",e)}finally{q(!1)}},B=async()=>{v(!0),q(!0);try{await x()}finally{q(!1)}},J=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),X=(e,t=50)=>e.length>t?`${e.substring(0,t)}...`:e,Y=()=>e.isActive?e.expiresAt&&new Date(e.expiresAt)<new Date?"text-orange-500":"text-green-500":"text-red-500",K=()=>e.isActive?e.expiresAt&&new Date(e.expiresAt)<new Date?"Expired":"Active":"Inactive";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.E.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,y:-20,transition:{duration:.2}}},initial:"hidden",animate:"visible",exit:"exit",layout:!0,className:`card card-hover p-4 sm:p-6 ${t?"ring-2 ring-blue-500":""} ${"dark"===h?"bg-gray-800":"bg-white"}`,onMouseLeave:()=>y(!1),children:[(0,s.jsxs)("div",{className:"block sm:hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx(r.E.input,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"checkbox",checked:t,onChange:a,className:"rounded border-gray-300 dark:border-gray-600"}),s.jsx(r.E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:`text-xs font-medium px-2 py-1 rounded-full ${Y()} bg-opacity-10`,children:K()})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:V,disabled:z,className:`p-2 rounded-lg transition-colors ${N?"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400":"dark"===h?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,title:N?"Copied!":"Copy URL",children:z?s.jsx(m.Z,{className:"w-4 h-4 animate-spin"}):N?s.jsx(C.Z,{className:"w-4 h-4"}):s.jsx(E.Z,{className:"w-4 h-4"})}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>y(!p),className:`p-2 rounded-lg transition-colors ${"dark"===h?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:s.jsx(U.Z,{className:"w-4 h-4"})}),s.jsx(l.M,{children:p&&(0,s.jsxs)(r.E.div,{variants:G,initial:"hidden",animate:"visible",exit:"exit",className:`absolute right-0 mt-2 w-48 rounded-lg shadow-lg border z-10 ${"dark"===h?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} py-1`,children:[(0,s.jsxs)(r.E.button,{whileHover:{backgroundColor:"dark"===h?"#374151":"#f3f4f6"},onClick:B,className:`w-full flex items-center space-x-2 px-3 py-2 text-sm ${"dark"===h?"text-gray-300":"text-gray-700"}`,children:[s.jsx(R.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"QR Code"})]}),s.jsx(P.default,{href:`/analytics/url/${e._id}`,children:(0,s.jsxs)(r.E.button,{whileHover:{backgroundColor:"dark"===h?"#374151":"#f3f4f6"},className:`w-full flex items-center space-x-2 px-3 py-2 text-sm ${"dark"===h?"text-gray-300":"text-gray-700"}`,children:[s.jsx(L.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Analytics"})]})}),(0,s.jsxs)(r.E.button,{whileHover:{backgroundColor:"dark"===h?"#374151":"#f3f4f6"},onClick:()=>{if(I?.role==="demo"){O("Demo Account Restriction","This action is not available in demo mode. Please use a full account to access all features.","Edit url");return}u(!0),y(!1)},className:`w-full flex items-center space-x-2 px-3 py-2 text-sm ${"dark"===h?"text-gray-300":"text-gray-700"}`,children:[s.jsx($,{className:"w-4 h-4"}),s.jsx("span",{children:"Edit URL"})]}),(0,s.jsxs)(r.E.button,{whileHover:{backgroundColor:"dark"===h?"#374151":"#f3f4f6"},onClick:()=>window.open(e.originalUrl,"_blank"),className:`w-full flex items-center space-x-2 px-3 py-2 text-sm ${"dark"===h?"text-gray-300":"text-gray-700"}`,children:[s.jsx(Z.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Visit URL"})]}),(0,s.jsxs)(r.E.button,{whileHover:{backgroundColor:"#fef2f2"},onClick:()=>{if(I?.role==="demo"){O("Demo Account Restriction","This action is not available in demo mode. Please use a full account to access all features.","Delete URL");return}n(),y(!1),Q("URL Deleted Successfully!",`Deleted short URL: ${e.shortUrl}`)},className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-600",children:[s.jsx(d.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Delete URL"})]})]})})]})]})]}),s.jsx("h3",{className:`text-lg font-semibold mb-2 ${"dark"===h?"text-white":"text-gray-900"}`,children:e.title||"Untitled URL"}),s.jsx("p",{className:`text-sm mb-3 break-all ${"dark"===h?"text-gray-400":"text-gray-600"}`,children:X(e.originalUrl,60)}),(0,s.jsxs)(r.E.div,{whileHover:{scale:1.02},className:"flex items-center space-x-2 mb-4 cursor-pointer bg-blue-50 dark:bg-blue-900/20 p-2 rounded-lg",onClick:V,children:[s.jsx(w.Z,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),s.jsx("span",{className:"font-mono text-blue-500 text-sm break-all",children:`snap.ly/${e.shortCode}`})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"flex items-center justify-center space-x-1 mb-1",children:s.jsx(A.Z,{className:`w-4 h-4 ${"dark"===h?"text-gray-400":"text-gray-500"}`})}),s.jsx("div",{className:`font-semibold ${"dark"===h?"text-white":"text-gray-900"}`,children:e.clickCount.toLocaleString()}),s.jsx("div",{className:`text-xs ${"dark"===h?"text-gray-400":"text-gray-500"}`,children:"Total Clicks"})]}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"flex items-center justify-center space-x-1 mb-1",children:s.jsx(S.Z,{className:`w-4 h-4 ${"dark"===h?"text-gray-400":"text-gray-500"}`})}),s.jsx("div",{className:`font-semibold ${"dark"===h?"text-white":"text-gray-900"}`,children:e.uniqueClicks.toLocaleString()}),s.jsx("div",{className:`text-xs ${"dark"===h?"text-gray-400":"text-gray-500"}`,children:"Unique Clicks"})]}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"flex items-center justify-center space-x-1 mb-1",children:s.jsx(T.Z,{className:`w-4 h-4 ${"dark"===h?"text-gray-400":"text-gray-500"}`})}),s.jsx("div",{className:`font-semibold text-sm ${"dark"===h?"text-white":"text-gray-900"}`,children:new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx("div",{className:`text-xs ${"dark"===h?"text-gray-400":"text-gray-500"}`,children:"Created"})]})]}),e.description&&s.jsx(r.E.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:`text-sm ${"dark"===h?"text-gray-400":"text-gray-600"} mb-3`,children:e.description}),(e.expiresAt||e.lastClickedAt)&&(0,s.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:`space-y-1 text-xs pt-3 border-t ${"dark"===h?"border-gray-700 text-gray-500":"border-gray-200 text-gray-500"}`,children:[e.lastClickedAt&&(0,s.jsxs)("div",{children:["Last clicked: ",J(e.lastClickedAt)]}),e.expiresAt&&(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(M.Z,{className:"w-3 h-3"}),(0,s.jsxs)("span",{children:["Expires: ",J(e.expiresAt)]})]})]})]}),(0,s.jsxs)("div",{className:"hidden sm:block",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-3 flex-1",children:[s.jsx(r.E.input,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"checkbox",checked:t,onChange:a,className:"mt-1 rounded border-gray-300 dark:border-gray-600"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h3",{className:`text-lg font-semibold truncate ${"dark"===h?"text-white":"text-gray-900"}`,children:e.title||"Untitled URL"}),s.jsx(r.E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:`text-sm font-medium px-2 py-1 rounded-full ${Y()} bg-opacity-10`,children:K()})]}),s.jsx("p",{className:`text-sm mb-3 ${"dark"===h?"text-gray-400":"text-gray-600"}`,children:X(e.originalUrl)}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,s.jsxs)(r.E.div,{whileHover:{scale:1.05},className:"flex items-center space-x-1 cursor-pointer",onClick:V,children:[s.jsx(w.Z,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:"font-mono text-blue-500 hover:text-blue-600",children:`snap.ly/${e.shortCode}`})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(A.Z,{className:`w-4 h-4 ${"dark"===h?"text-gray-400":"text-gray-500"}`}),s.jsx("span",{className:"dark"===h?"text-gray-300":"text-gray-700",children:e.clickCount.toLocaleString()})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(S.Z,{className:`w-4 h-4 ${"dark"===h?"text-gray-400":"text-gray-500"}`}),s.jsx("span",{className:"dark"===h?"text-gray-300":"text-gray-700",children:e.uniqueClicks.toLocaleString()})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(T.Z,{className:`w-4 h-4 ${"dark"===h?"text-gray-400":"text-gray-500"}`}),s.jsx("span",{className:`text-xs ${"dark"===h?"text-gray-400":"text-gray-500"}`,children:J(e.createdAt)})]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:V,disabled:z,className:`p-2 rounded-lg transition-colors ${N?"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400":"dark"===h?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,title:N?"Copied!":"Copy URL",children:z?s.jsx(m.Z,{className:"w-4 h-4 animate-spin"}):N?s.jsx(C.Z,{className:"w-4 h-4"}):s.jsx(E.Z,{className:"w-4 h-4"})}),s.jsx(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:B,disabled:z,className:`p-2 rounded-lg transition-colors ${"dark"===h?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,title:e.qrCode?"View QR Code":"Generate QR Code",children:s.jsx(R.Z,{className:"w-4 h-4"})}),s.jsx(P.default,{href:`/analytics/url/${e._id}`,children:s.jsx(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`p-2 rounded-lg transition-colors ${"dark"===h?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,title:"View Analytics",children:s.jsx(L.Z,{className:"w-4 h-4"})})}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>y(!p),className:`p-2 rounded-lg transition-colors ${"dark"===h?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:s.jsx(U.Z,{className:"w-4 h-4"})}),s.jsx(l.M,{children:p&&(0,s.jsxs)(r.E.div,{variants:G,initial:"hidden",animate:"visible",exit:"exit",className:`absolute right-0 mt-2 w-48 rounded-lg shadow-lg border z-10 ${"dark"===h?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} py-1`,children:[(0,s.jsxs)(r.E.button,{whileHover:{backgroundColor:"dark"===h?"#374151":"#f3f4f6"},onClick:()=>{if(I?.role==="demo"){O("Demo Account Restriction","This action is not available in demo mode. Please use a full account to access all features.","Edit url");return}u(!0),y(!1)},className:`w-full flex items-center space-x-2 px-3 py-2 text-sm ${"dark"===h?"text-gray-300":"text-gray-700"}`,children:[s.jsx($,{className:"w-4 h-4"}),s.jsx("span",{children:"Edit URL"})]}),(0,s.jsxs)(r.E.button,{whileHover:{backgroundColor:"dark"===h?"#374151":"#f3f4f6"},onClick:()=>window.open(e.originalUrl,"_blank"),className:`w-full flex items-center space-x-2 px-3 py-2 text-sm ${"dark"===h?"text-gray-300":"text-gray-700"}`,children:[s.jsx(Z.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Visit URL"})]}),(0,s.jsxs)(r.E.button,{whileHover:{backgroundColor:"#fef2f2"},onClick:()=>{if(I?.role==="demo"){O("Demo Account Restriction","This action is not available in demo mode. Please use a full account to access all features.","Delete url");return}n(),y(!1),Q("URL Deleted Successfully!",`Deleted short URL: ${e.shortUrl}`)},className:"w-full flex items-center space-x-2 px-3 py-2 text-sm text-red-600",children:[s.jsx(d.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Delete URL"})]})]})})]})]})]}),e.description&&s.jsx(r.E.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:`text-sm ${"dark"===h?"text-gray-400":"text-gray-600"} mb-3`,children:e.description}),(e.expiresAt||e.lastClickedAt)&&(0,s.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:`flex items-center justify-between text-xs pt-3 border-t ${"dark"===h?"border-gray-700 text-gray-500":"border-gray-200 text-gray-500"}`,children:[e.lastClickedAt&&(0,s.jsxs)("span",{children:["Last clicked: ",J(e.lastClickedAt)]}),e.expiresAt&&(0,s.jsxs)("span",{className:"flex items-center space-x-1",children:[s.jsx(M.Z,{className:"w-3 h-3"}),(0,s.jsxs)("span",{children:["Expires: ",J(e.expiresAt)]})]})]})]})]}),s.jsx(l.M,{children:b&&e.qrCode&&s.jsx(_,{qrCode:e.qrCode,shortUrl:`snap.ly/${e.shortCode}`,title:"string"==typeof e.title?e.title:"",onClose:()=>v(!1),theme:h})}),s.jsx(l.M,{children:g&&s.jsx(F,{url:e,onClose:()=>u(!1),onSuccess:e=>{c(e),u(!1)},theme:h})})]})},Q=({isOpen:e,onClose:t,onSuccess:a,theme:c})=>{let[d,o]=(0,i.useState)({originalUrl:"",customAlias:"",title:"",description:"",tags:"",generateQR:!0,fetchMetadata:!0,expiresIn:""}),[x,h]=(0,i.useState)(!1),[p,y]=(0,i.useState)({}),{addNotification:g}=(0,D.z)(),{user:u}=(0,f.a)(),{showDemoRestriction:b}=(0,k.a)(),v={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}},w=()=>{let e={};return d.originalUrl?/^https?:\/\/.+/.test(d.originalUrl)||(e.originalUrl="Please enter a valid URL (must start with http:// or https://)"):e.originalUrl="URL is required",d.customAlias&&!/^[a-zA-Z0-9_-]{3,30}$/.test(d.customAlias)&&(e.customAlias="Custom alias must be 3-30 characters (letters, numbers, - and _ only)"),d.title&&d.title.length>100&&(e.title="Title must be less than 100 characters"),d.description&&d.description.length>500&&(e.description="Description must be less than 500 characters"),y(e),0===Object.keys(e).length},N=async e=>{if(e.preventDefault(),u?.role==="demo"){b("Demo Account Restriction","This action is not available in demo mode. Please use a full account to access all features.","Create url"),t();return}if(w()){h(!0),y({});try{let e={originalUrl:d.originalUrl,generateQR:d.generateQR,fetchMetadata:d.fetchMetadata,...d.customAlias&&{customAlias:d.customAlias},...d.title&&{title:d.title},...d.description&&{description:d.description},...d.tags&&{tags:d.tags.split(",").map(e=>e.trim()).filter(Boolean)},...d.expiresIn&&{expiresIn:parseInt(d.expiresIn)}},t=await j.ZP.urls.create(e);if(t.success&&t.data)a(t.data.url),o({originalUrl:"",customAlias:"",title:"",description:"",tags:"",generateQR:!0,fetchMetadata:!0,expiresIn:""}),g("URL Created Successfully!",`Short URL created for: ${d.originalUrl}`);else throw Error(t.message||"Failed to create URL")}catch(e){console.error("Error creating URL:",e),y({general:e instanceof Error?e.message:"Failed to create URL. Please try again."})}finally{h(!1)}}};return e?s.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t,children:(0,s.jsxs)(r.E.div,{variants:{hidden:{opacity:0,scale:.8,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.3,ease:"easeOut",staggerChildren:.05}},exit:{opacity:0,scale:.8,y:20,transition:{duration:.2}}},initial:"hidden",animate:"visible",exit:"exit",onClick:e=>e.stopPropagation(),className:`w-full max-w-lg rounded-lg shadow-xl ${"dark"===c?"bg-gray-800":"bg-white"} max-h-[90vh] overflow-y-auto`,children:[(0,s.jsxs)("div",{className:`flex items-center justify-between p-6 border-b ${"dark"===c?"border-gray-700":"border-gray-200"}`,children:[s.jsx("h2",{className:`text-xl font-semibold ${"dark"===c?"text-white":"text-gray-900"}`,children:"Create Short URL"}),s.jsx(r.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:`p-1 rounded-lg transition-colors ${"dark"===c?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,children:s.jsx(H.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("form",{onSubmit:N,className:"p-6 space-y-4",children:[(0,s.jsxs)(r.E.div,{variants:v,children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${"dark"===c?"text-gray-300":"text-gray-700"}`,children:"Original URL *"}),s.jsx("input",{type:"url",value:d.originalUrl,onChange:e=>o(t=>({...t,originalUrl:e.target.value})),className:`input-base ${p.originalUrl?"input-error":""}`,placeholder:"https://example.com/very-long-url",required:!0,disabled:x}),p.originalUrl&&s.jsx(r.E.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"text-red-500 text-xs mt-1",children:p.originalUrl})]}),(0,s.jsxs)(r.E.div,{variants:v,children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${"dark"===c?"text-gray-300":"text-gray-700"}`,children:"Custom Alias (optional)"}),(0,s.jsxs)("div",{className:"flex",children:[s.jsx("span",{className:`inline-flex items-center px-3 border border-r-0 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-sm ${"dark"===c?"text-gray-400":"text-gray-500"} rounded-l-md`,children:"snap.ly/"}),s.jsx("input",{type:"text",value:d.customAlias,onChange:e=>o(t=>({...t,customAlias:e.target.value})),className:`input-base rounded-l-none ${p.customAlias?"input-error":""}`,placeholder:"my-link",disabled:x})]}),p.customAlias&&s.jsx(r.E.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"text-red-500 text-xs mt-1",children:p.customAlias})]}),(0,s.jsxs)(r.E.div,{variants:v,children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${"dark"===c?"text-gray-300":"text-gray-700"}`,children:"Title (optional)"}),s.jsx("input",{type:"text",value:d.title,onChange:e=>o(t=>({...t,title:e.target.value})),className:`input-base ${p.title?"input-error":""}`,placeholder:"Give your link a memorable title",maxLength:100,disabled:x}),p.title&&s.jsx(r.E.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"text-red-500 text-xs mt-1",children:p.title})]}),(0,s.jsxs)(r.E.div,{variants:v,children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${"dark"===c?"text-gray-300":"text-gray-700"}`,children:"Description (optional)"}),s.jsx("textarea",{value:d.description,onChange:e=>o(t=>({...t,description:e.target.value})),className:`input-base ${p.description?"input-error":""}`,placeholder:"Add a description for better organization",rows:3,maxLength:500,disabled:x}),p.description&&s.jsx(r.E.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"text-red-500 text-xs mt-1",children:p.description})]}),(0,s.jsxs)(r.E.div,{variants:v,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${"dark"===c?"text-gray-300":"text-gray-700"}`,children:"Expires In (days)"}),(0,s.jsxs)("select",{value:d.expiresIn,onChange:e=>o(t=>({...t,expiresIn:e.target.value})),className:"input-base",disabled:x,children:[s.jsx("option",{value:"",children:"Never expires"}),s.jsx("option",{value:"1",children:"1 day"}),s.jsx("option",{value:"7",children:"7 days"}),s.jsx("option",{value:"30",children:"30 days"}),s.jsx("option",{value:"90",children:"90 days"}),s.jsx("option",{value:"365",children:"1 year"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(r.E.div,{whileHover:{scale:1.02},className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"generateQR",checked:d.generateQR,onChange:e=>o(t=>({...t,generateQR:e.target.checked})),className:"rounded border-gray-300 dark:border-gray-600",disabled:x}),s.jsx("label",{htmlFor:"generateQR",className:`ml-2 text-sm ${"dark"===c?"text-gray-300":"text-gray-700"}`,children:"Generate QR Code"})]}),(0,s.jsxs)(r.E.div,{whileHover:{scale:1.02},className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"fetchMetadata",checked:d.fetchMetadata,onChange:e=>o(t=>({...t,fetchMetadata:e.target.checked})),className:"rounded border-gray-300 dark:border-gray-600",disabled:x}),s.jsx("label",{htmlFor:"fetchMetadata",className:`ml-2 text-sm ${"dark"===c?"text-gray-300":"text-gray-700"}`,children:"Fetch Page Metadata"})]})]})]}),s.jsx(l.M,{children:p.general&&(0,s.jsxs)(r.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center space-x-2 text-red-500 text-sm",children:[s.jsx(z.Z,{className:"w-4 h-4"}),s.jsx("span",{children:p.general})]})}),(0,s.jsxs)(r.E.div,{variants:v,className:"flex justify-end space-x-3 pt-4",children:[s.jsx(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:t,className:"btn-secondary px-4 py-2 rounded-lg",disabled:x,children:"Cancel"}),s.jsx(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"btn-primary px-4 py-2 rounded-lg flex items-center space-x-2",disabled:x,children:x?(0,s.jsxs)(s.Fragment,{children:[s.jsx(m.Z,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Creating..."})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Create URL"})]})})]})]})]})}):null},O=(e,t)=>{let[a,s]=(0,i.useState)(e);return(0,i.useEffect)(()=>{let a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),a},I=()=>{let{theme:e}=(0,b.Fg)(),[t,a]=(0,i.useState)([]),[p,w]=(0,i.useState)(!0),[C,E]=(0,i.useState)(!1),[U,R]=(0,i.useState)(!1),[L,$]=(0,i.useState)(null),[Z,A]=(0,i.useState)(""),[S,T]=(0,i.useState)("all"),[M,P]=(0,i.useState)("createdAt"),[D,H]=(0,i.useState)("desc"),[_,z]=(0,i.useState)(1),[F,I]=(0,i.useState)(1),[G,V]=(0,i.useState)(0),[B,J]=(0,i.useState)(null),[X,Y]=(0,i.useState)(!1),[K,W]=(0,i.useState)(new Set),ee=O(Z,500),{showComingSoon:et}=(0,v.m)(),{showDemoRestriction:ea}=(0,k.a)(),{user:es}=(0,f.a)(),ei={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},er=(0,i.useCallback)(async(e=!0)=>{try{e?w(!0):R(!0),ee&&!e&&E(!0),$(null);let t={page:_,limit:5,sortBy:M,sortOrder:D,...ee&&{search:ee},..."all"!==S&&{isActive:"active"===S}},s=await j.ZP.urls.getAll(t);if(s.success)a(s.data||[]),s.pagination&&(J(s.pagination),I(s.pagination.totalPages||1),V(s.pagination.totalUrls||0));else throw Error(s.message||"Failed to fetch URLs")}catch(e){console.error("Error fetching URLs:",e),$(e instanceof Error?e.message:"Failed to load URLs"),a([])}finally{w(!1),R(!1),E(!1)}},[_,M,D,ee,S,5]);(0,i.useEffect)(()=>{er(!0)},[er]),(0,i.useEffect)(()=>{1!==_&&z(1)},[ee,S,M,D]);let el=(0,i.useMemo)(()=>({start:G>0?(_-1)*5+1:0,end:Math.min(5*_,G)}),[_,5,G]),en=e=>{let t=new Set(K);t.has(e)?t.delete(e):t.add(e),W(t)},ec=async(e,t=!1)=>{try{a(t=>t.filter(t=>t._id!==e)),await j.ZP.urls.delete(e,t),W(t=>{let a=new Set(t);return a.delete(e),a}),er(!1)}catch(e){console.error("Error deleting URL:",e),$(e instanceof Error?e.message:"Failed to delete URL"),er(!1)}},ed=async()=>{if(0!==K.size){if(es?.role==="demo"){ea("Demo Account Restriction","This action is not available in demo mode. Please use a full account to access all features.","Delete urls");return}try{R(!0);let e=Array.from(K).map(e=>j.ZP.urls.delete(e,!1));await Promise.allSettled(e),W(new Set),await er(!1)}catch(e){console.error("Error deleting URLs:",e),$("Some URLs could not be deleted")}finally{R(!1)}}},eo=async(e,t)=>{try{let s=await j.ZP.urls.update(e,t);if(s.success){let s=await j.ZP.urls.getById(e);s.success&&s.data?a(t=>t.map(t=>t._id===e?{...t,...s.data}:t)):a(a=>a.map(a=>a._id===e?{...a,...t}:a))}else throw Error(s.message||"Failed to update URL")}catch(e){console.error("Error updating URL:",e),$(e instanceof Error?e.message:"Failed to update URL")}},ex=async e=>{try{await j.ZP.utils.copyToClipboard(e)||$("Failed to copy URL to clipboard")}catch(e){console.error("Error copying URL:",e),$("Failed to copy URL to clipboard")}},eh=async e=>{try{let t=await j.ZP.urls.generateQR(e);if(t.success)a(a=>a.map(a=>a._id===e?{...a,qrCode:t.data?.qrCode||{}}:a));else throw Error(t.message||"Failed to generate QR code")}catch(e){console.error("Error generating QR code:",e),$(e instanceof Error?e.message:"Failed to generate QR code")}},em=async(e="json")=>{try{let a;if(R(!0),K.size>0)a=t.filter(e=>K.has(e._id));else{let t;let s=await j.ZP.urls.export({format:e,includeAnalytics:!0});if(Array.isArray(s))t=s;else if(s&&"object"==typeof s&&"success"in s){if(t=s.data,!s.success)throw Error(s.message||"Failed to export URLs")}else if("string"==typeof s)t=s;else throw Error("Unexpected response format");a=t}if(a){let t,s,i;if("csv"===e){if(Array.isArray(a)){let e=Object.keys(a[0]||{});t=[e.join(","),...a.map(t=>e.map(e=>JSON.stringify(t[e]||"")).join(","))].join("\n")}else t="string"==typeof a?a:JSON.stringify(a);s="text/csv;charset=utf-8",i=`urls_export_${new Date().toISOString().split("T")[0]}.csv`}else t=JSON.stringify(a,null,2),s="application/json;charset=utf-8",i=`urls_export_${new Date().toISOString().split("T")[0]}.json`;let r=new Blob([t],{type:s}),l=URL.createObjectURL(r),n=document.createElement("a");n.href=l,n.download=i,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(l),console.log(`Export completed successfully: ${i}`)}else throw Error("No data to export")}catch(e){console.error("Error exporting URLs:",e),$(e instanceof Error?e.message:"Failed to export URLs")}finally{R(!1)}},ep=e=>{z(e),window.scrollTo({top:0,behavior:"smooth"})};return s.jsx(r.E.div,{variants:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:(0,s.jsxs)(u.Z,{title:"URL Management",description:"Manage your shortened URLs, view analytics, and organize your links",children:[s.jsx(l.M,{children:L&&(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[s.jsx("p",{className:"text-red-700 dark:text-red-400 text-sm",children:L}),s.jsx("button",{onClick:()=>$(null),className:"text-red-500 hover:text-red-700 text-sm underline mt-1",children:"Dismiss"})]})}),(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)(r.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>Y(!0),className:"btn-primary px-4 py-2 rounded-lg flex items-center space-x-2",disabled:p,children:[s.jsx(n.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Create URL"})]}),s.jsx(l.M,{children:K.size>0&&(0,s.jsxs)(r.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center space-x-2",children:[(0,s.jsxs)("span",{className:`text-sm ${"dark"===e?"text-gray-400":"text-gray-600"}`,children:[K.size," selected"]}),s.jsx(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>em("json"),className:"btn-secondary p-2 rounded-lg",disabled:U,children:s.jsx(c.Z,{className:"w-4 h-4"})}),s.jsx(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ed,className:"btn-danger p-2 rounded-lg",disabled:U,children:s.jsx(d.Z,{className:"w-4 h-4"})})]})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>er(!1),className:`btn-ghost p-2 rounded-lg ${U?"animate-spin":""}`,disabled:p||U,children:s.jsx(o.Z,{className:"w-4 h-4"})}),s.jsx(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>em("csv"),className:"btn-ghost p-2 rounded-lg",disabled:U,children:s.jsx(c.Z,{className:"w-4 h-4"})}),s.jsx(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn-ghost p-2 rounded-lg",onClick:()=>et(),children:s.jsx(x.Z,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"relative md:col-span-2",children:[s.jsx(h.Z,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${"dark"===e?"text-gray-400":"text-gray-500"}`}),s.jsx("input",{type:"text",value:Z,onChange:e=>A(e.target.value),placeholder:"Search URLs, titles, or domains...",className:"input-base",style:{paddingLeft:"2.5rem"},disabled:p}),C&&s.jsx(m.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 animate-spin text-blue-500"})]}),(0,s.jsxs)("select",{value:S,onChange:e=>T(e.target.value),className:"input-base",disabled:p,children:[s.jsx("option",{value:"all",children:"All URLs"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)("select",{value:M,onChange:e=>P(e.target.value),className:"input-base flex-1",disabled:p,children:[s.jsx("option",{value:"createdAt",children:"Created Date"}),s.jsx("option",{value:"clickCount",children:"Clicks"}),s.jsx("option",{value:"title",children:"Title"}),s.jsx("option",{value:"lastClickedAt",children:"Last Clicked"})]}),s.jsx(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H("asc"===D?"desc":"asc"),className:"btn-ghost p-2 rounded-lg",disabled:p,children:"asc"===D?"↑":"↓"})]})]}),s.jsx(l.M,{children:B&&!p&&(0,s.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-between items-center text-sm",children:[(0,s.jsxs)("span",{className:"dark"===e?"text-gray-400":"text-gray-600",children:["Showing ",el.start," to ",el.end," of"," ",G," URLs"]}),(0,s.jsxs)("span",{className:"dark"===e?"text-gray-400":"text-gray-600",children:["Page ",_," of ",F]})]})}),p?s.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>s.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"card p-4",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-16"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-16"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-16"})]})]})},t))}):0===t.length?s.jsx(N,{searchQuery:ee,onCreateClick:()=>Y(!0)}):(0,s.jsxs)(r.E.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"space-y-6",children:[(0,s.jsxs)(r.E.div,{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",checked:K.size===t.length&&t.length>0,onChange:()=>{K.size===t.length?W(new Set):W(new Set(t.map(e=>e._id)))},className:"rounded border-gray-300 dark:border-gray-600",disabled:p}),(0,s.jsxs)("span",{className:`text-sm font-medium ${"dark"===e?"text-gray-300":"text-gray-700"}`,children:["Select all (",t.length," URLs)"]})]}),s.jsx(l.M,{mode:"popLayout",children:t.map((t,a)=>s.jsx(r.E.div,{variants:ei,initial:"hidden",animate:"visible",exit:"hidden",transition:{delay:.05*a},layout:!0,children:s.jsx(q,{url:t,isSelected:K.has(t._id),onSelect:()=>en(t._id),onDelete:()=>ec(t._id),onUpdate:e=>eo(t._id,e),onCopy:()=>ex(`snap.ly/${t.shortCode}`),onGenerateQR:()=>eh(t._id),theme:e})},t._id))}),F>1&&(0,s.jsxs)(r.E.div,{className:"flex justify-center items-center space-x-1 mt-8",children:[(0,s.jsxs)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ep(_-1),disabled:1===_||p,className:"flex items-center px-3 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[s.jsx(y,{className:"w-4 h-4 mr-1"}),"Previous"]}),(()=>{let e=[];if(F<=5)for(let t=1;t<=F;t++)e.push(t);else if(_<=3){for(let t=1;t<=4;t++)e.push(t);e.push("..."),e.push(F)}else if(_>=F-2){e.push(1),e.push("...");for(let t=F-3;t<=F;t++)e.push(t)}else{e.push(1),e.push("...");for(let t=_-1;t<=_+1;t++)e.push(t);e.push("..."),e.push(F)}return e})().map((e,t)=>{if("..."===e)return s.jsx("span",{className:"px-2 py-2 text-gray-500",children:"..."},`ellipsis-${t}`);let a=e===_;return s.jsx(r.E.button,{whileHover:{scale:a?1:1.05},whileTap:{scale:.95},onClick:()=>ep(e),disabled:p,className:`px-3 py-2 text-sm rounded-md transition-colors ${a?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"} disabled:opacity-50 disabled:cursor-not-allowed`,children:e},e)}),(0,s.jsxs)(r.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ep(_+1),disabled:_===F||p,className:"flex items-center px-3 py-2 text-sm bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:["Next",s.jsx(g.Z,{className:"w-4 h-4 ml-1"})]})]})]}),s.jsx(l.M,{children:X&&s.jsx(Q,{isOpen:X,onClose:()=>Y(!1),onSuccess:e=>{a(t=>[e,...t]),Y(!1),er(!1)},theme:e})})]})})}},34911:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>r});var s=a(19510);let i=(0,a(68570).createProxy)(String.raw`C:\Users\Ваня\Desktop\snapurl\snap-url-admin\src\app\urls\URLsContent.tsx#default`),r={title:"URL Management - SnapURL Admin",description:"Manage your shortened URLs, view analytics, create new links, and organize your URL collection.",keywords:"URL management, short links, link organization, URL analytics, QR codes"};function l(){return s.jsx(i,{})}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[35,649],()=>a(91420));module.exports=s})();