(()=>{var e={};e.id=722,e.ids=[722],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55209:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>o}),a(20514),a(74614),a(70903);var s=a(23191),r=a(88716),l=a(37922),i=a.n(l),n=a(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let o=["",{children:["platform",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,20514)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\platform\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,74614)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,70903)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\not-found.tsx"]}],c=["C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\platform\\page.tsx"],x="/platform/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/platform/page",pathname:"/platform",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2108:(e,t,a)=>{Promise.resolve().then(a.bind(a,90436))},5932:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},93892:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},29163:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},24061:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},91470:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},10669:(e,t,a)=>{"use strict";a.d(t,{T:()=>d});var s=a(96601),r=a(47445),l=a(62637),i=a(9997),n=a(11327),d=(0,s.z)({chartName:"AreaChart",GraphicalChild:r.u,axisComponents:[{axisType:"xAxis",AxisComp:l.K},{axisType:"yAxis",AxisComp:i.B}],formatAxisMap:n.t9})},90436:(e,t,a)=>{"use strict";a.d(t,{default:()=>ei});var s=a(10326),r=a(17577),l=a(16856),i=a(21405),n=a(98058),d=a(23016),o=a(74690),c=a(18069),x=a(66697),m=a(91470),h=a(37202),g=a(54659),p=a(58038),y=a(3634),u=a(93892);let j=({performance:e,theme:t,loading:a=!1})=>{let r,i,n,d;let o=(()=>{if(!e)return{status:"unknown",color:"gray",icon:x.Z};let{errorRate:t,uptime:a,averageResponseTime:s}=e;return t>5||a<95||s>1e3?{status:"critical",color:"red",icon:m.Z}:t>1||a<99||s>500?{status:"warning",color:"yellow",icon:h.Z}:{status:"healthy",color:"green",icon:g.Z}})(),c=o.icon;return(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:`card p-6 ${"dark"===t?"bg-gray-800":"bg-white"}`,children:[s.jsx(v,{theme:t,healthStatus:o,StatusIcon:c,loading:a}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(b,{icon:p.Z,iconColor:"text-green-500",label:"Uptime",value:a?"...":e?(r=e.uptime,`${r.toFixed(2)}%`):"N/A",subtitle:"Last 30 days",theme:t}),s.jsx(b,{icon:y.Z,iconColor:"text-blue-500",label:"Response Time",value:a?"...":e?(i=e.averageResponseTime,`${i}ms`):"N/A",subtitle:"Average",theme:t}),s.jsx(b,{icon:h.Z,iconColor:"text-orange-500",label:"Error Rate",value:a?"...":e?(n=e.errorRate,`${(100*n).toFixed(3)}%`):"N/A",subtitle:"Last 24h",theme:t}),s.jsx(b,{icon:x.Z,iconColor:"text-purple-500",label:"Requests",value:a?"...":e?(d=e.requestsPerMinute)>=1e3?`${(d/1e3).toFixed(1)}k/min`:`${d}/min`:"N/A",subtitle:"Current rate",theme:t})]}),s.jsx(f,{theme:t,healthStatus:o,loading:a})]})},v=({theme:e,healthStatus:t,StatusIcon:a,loading:r})=>(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-3 rounded-lg ${"dark"===e?"bg-blue-900/20":"bg-blue-100"}`,children:s.jsx(u.Z,{className:"w-6 h-6 text-blue-500"})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:`text-lg font-semibold ${"dark"===e?"text-white":"text-gray-900"}`,children:"System Health"}),s.jsx("p",{className:`text-sm ${"dark"===e?"text-gray-400":"text-gray-600"}`,children:"Real-time platform status"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(a,{className:`w-6 h-6 text-${t.color}-500`}),s.jsx("span",{className:`text-sm font-medium capitalize text-${t.color}-500`,children:r?"Checking...":t.status})]})]}),b=({icon:e,iconColor:t,label:a,value:r,subtitle:l,theme:i})=>(0,s.jsxs)("div",{className:`p-4 rounded-lg border ${"dark"===i?"bg-gray-750 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(e,{className:`w-4 h-4 ${t}`}),s.jsx("span",{className:`text-sm font-medium ${"dark"===i?"text-gray-300":"text-gray-700"}`,children:a})]}),s.jsx("div",{className:`text-xl font-bold ${"dark"===i?"text-white":"text-gray-900"}`,children:r}),s.jsx("div",{className:`text-xs ${"dark"===i?"text-gray-500":"text-gray-400"}`,children:l})]}),f=({theme:e,healthStatus:t,loading:a})=>s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-sm ${"dark"===e?"text-gray-400":"text-gray-600"}`,children:"System Status:"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full bg-${t.color}-500 ${"healthy"===t.status?"animate-pulse":""}`}),s.jsx("span",{className:`text-sm font-medium ${"dark"===e?"text-gray-300":"text-gray-700"}`,children:(()=>{if(a)return"Checking system health...";switch(t.status){case"healthy":return"All systems operational";case"warning":return"Minor issues detected";case"critical":return"Critical issues detected";default:return"System status unknown"}})()})]})]})});var N=a(17069),w=a(29163),k=a(24061),$=a(17129),C=a(20176);let Z=(0,a(76557).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var U=a(83855);let E=({overview:e,theme:t,loading:a=!1})=>{let r=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString(),l=e=>{let t=e>=0;return(0,s.jsxs)("div",{className:`flex items-center space-x-1 text-sm ${t?"text-green-500":"text-red-500"}`,children:[t?s.jsx(N.Z,{className:"w-4 h-4"}):s.jsx(w.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{className:"font-medium",children:[t?"+":"",e.toFixed(1),"%"]})]})};return e||a?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(x.Z,{className:"w-6 h-6 text-blue-500"}),s.jsx("h2",{className:`text-xl font-semibold ${"dark"===t?"text-white":"text-gray-900"}`,children:"Platform Statistics"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsx(D,{title:"Total Users",value:e?.users.totalUsers||0,subtitle:"Registered accounts",icon:k.Z,color:"blue",growth:e?.users.growth,additionalInfo:e?`${r(e.users.active)} active`:void 0,theme:t,loading:a,formatNumber:r,getTrendIndicator:l}),s.jsx(D,{title:"Total URLs",value:e?.urls.totalUrls||0,subtitle:"Shortened links",icon:$.Z,color:"green",growth:e?.urls.growth,additionalInfo:e?`${r(e.urls.active)} active`:void 0,theme:t,loading:a,formatNumber:r,getTrendIndicator:l}),s.jsx(D,{title:"Total Clicks",value:e?.clicks.totalClicks||0,subtitle:"All-time clicks",icon:C.Z,color:"purple",growth:e?.clicks.growth,additionalInfo:e?`${r(e.clicks.today)} today`:void 0,theme:t,loading:a,formatNumber:r,getTrendIndicator:l})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(D,{title:"New Users",value:e?.users.new||0,subtitle:"This period",icon:Z,color:"orange",theme:t,loading:a,formatNumber:r,getTrendIndicator:l}),s.jsx(D,{title:"New URLs",value:e?.urls.new||0,subtitle:"This period",icon:U.Z,color:"indigo",theme:t,loading:a,formatNumber:r,getTrendIndicator:l}),s.jsx(D,{title:"Active Users",value:e?.users.active||0,subtitle:"Recent activity",icon:x.Z,color:"teal",theme:t,loading:a,formatNumber:r,getTrendIndicator:l})]})]}):s.jsx(S,{theme:t})},D=({title:e,value:t,subtitle:a,icon:r,color:i,growth:n,additionalInfo:d,theme:o,loading:c,formatNumber:x,getTrendIndicator:m})=>(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:`card p-6 ${"dark"===o?"bg-gray-800":"bg-white"}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`p-3 rounded-lg bg-${i}-100 dark:bg-${i}-900/20`,children:s.jsx(r,{className:`w-6 h-6 text-${i}-500`})}),void 0!==n&&m(n)]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("h3",{className:`text-2xl font-bold ${"dark"===o?"text-white":"text-gray-900"}`,children:c?"...":t?x(t):"0"}),s.jsx("p",{className:`text-sm font-medium ${"dark"===o?"text-gray-300":"text-gray-700"}`,children:e}),s.jsx("p",{className:`text-xs ${"dark"===o?"text-gray-400":"text-gray-500"}`,children:a}),d&&s.jsx("p",{className:`text-xs ${"dark"===o?"text-gray-500":"text-gray-400"}`,children:d})]})]}),S=({theme:e})=>(0,s.jsxs)("div",{className:`card p-8 text-center ${"dark"===e?"bg-gray-800":"bg-white"}`,children:[s.jsx(x.Z,{className:`w-12 h-12 mx-auto mb-4 ${"dark"===e?"text-gray-600":"text-gray-400"}`}),s.jsx("p",{className:`${"dark"===e?"text-gray-400":"text-gray-600"}`,children:"No platform statistics available"})]});var T=a(86462),M=a(26092),A=a(5932),R=a(48998),P=a(941),L=a(33734);let O=({users:e,theme:t,loading:a=!1})=>{let[i,n]=(0,r.useState)(null),d=e=>{let t=new Date,a=new Date(e),s=Math.floor((t.getTime()-a.getTime())/36e5);if(s<1){let e=Math.floor((t.getTime()-a.getTime())/6e4);return`${e}m ago`}if(s<24)return`${s}h ago`;let r=Math.floor(s/24);return r<7?`${r}d ago`:`${Math.floor(r/7)}w ago`},o=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:new Intl.NumberFormat().format(e),c=e=>{switch(e){case 0:return{color:"from-yellow-400 to-yellow-600",textColor:"text-white",icon:M.Z,label:"#1",glow:"shadow-yellow-500/50"};case 1:return{color:"from-gray-300 to-gray-500",textColor:"text-white",icon:M.Z,label:"#2",glow:"shadow-gray-500/30"};case 2:return{color:"from-orange-400 to-orange-600",textColor:"text-white",icon:M.Z,label:"#3",glow:"shadow-orange-500/40"};default:return{color:"from-blue-500 to-purple-600",textColor:"text-white",icon:k.Z,label:`#${e+1}`,glow:"shadow-blue-500/30"}}},x=(e,t=20)=>{if(e.length<=t)return e;let a=e.split("@");if(2!==a.length)return e;let[s,r]=a;return s&&r&&s.length>t-r.length-4?`${s.substring(0,t-r.length-7)}...@${r}`:e};return a?s.jsx(I,{theme:t}):(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:`card overflow-hidden ${"dark"===t?"bg-gray-800":"bg-white"}`,children:[s.jsx(H,{theme:t}),e.length>0?(0,s.jsxs)(s.Fragment,{children:[s.jsx(F,{users:e,theme:t,getRankBadge:c,formatNumber:o,formatTimeAgo:d,truncateEmail:x}),s.jsx(q,{users:e,theme:t,expandedUser:i,setExpandedUser:n,getRankBadge:c,formatNumber:o,formatTimeAgo:d,truncateEmail:x}),s.jsx(_,{users:e,theme:t})]}):s.jsx(G,{theme:t})]})},I=({theme:e})=>(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:`card overflow-hidden ${"dark"===e?"bg-gray-800":"bg-white"}`,children:[s.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(l.E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:s.jsx(k.Z,{className:"w-6 h-6 text-purple-500"})}),s.jsx("h3",{className:`text-lg font-semibold ${"dark"===e?"text-white":"text-gray-900"}`,children:"Top Users"})]})}),s.jsx("div",{className:"p-4 sm:p-6",children:s.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"}),s.jsx(l.E.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent rounded-full",animate:{x:[-100,100]},transition:{duration:1.5,repeat:1/0,ease:"linear"}})]}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-1/2"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-16"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-12"})]})]},t))})})]}),H=({theme:e})=>(0,s.jsxs)("div",{className:"relative px-4 sm:px-6 py-4 border-b border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between relative z-10",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(l.E.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:s.jsx(k.Z,{className:"w-6 h-6 text-purple-500"})}),s.jsx("h3",{className:`text-lg font-semibold ${"dark"===e?"text-white":"text-gray-900"}`,children:"Top Users"})]}),s.jsx(l.E.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`text-sm ${"dark"===e?"text-gray-400":"text-gray-600"}`,children:"Most active users"})]}),[void 0,void 0,void 0].map((e,t)=>s.jsx(l.E.div,{className:"absolute w-1 h-1 bg-purple-400 rounded-full opacity-30",animate:{x:[0,50,0],y:[0,-30,0],opacity:[.3,.8,.3]},transition:{duration:3+t,repeat:1/0,delay:.5*t},style:{left:`${20+30*t}%`,top:"50%"}},t))]}),F=({users:e,theme:t,getRankBadge:a,formatNumber:r,formatTimeAgo:i,truncateEmail:n})=>s.jsx("div",{className:"hidden md:block overflow-x-hidden",children:(0,s.jsxs)("table",{className:"table-base",children:[s.jsx("thead",{className:"table-header",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"text-left",children:"Rank"}),s.jsx("th",{className:"text-left",children:"User"}),s.jsx("th",{className:"text-center",children:"URLs"}),s.jsx("th",{className:"text-center",children:"Clicks"}),s.jsx("th",{className:"text-center",children:"Last Active"})]})}),s.jsx("tbody",{children:e.map((e,d)=>{let o=a(d),c=o.icon;return(0,s.jsxs)(l.E.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*d},whileHover:{scale:1.01,transition:{duration:.2}},className:"table-row",children:[s.jsx("td",{className:"table-cell",children:(0,s.jsxs)(l.E.div,{className:"flex items-center space-x-2",whileHover:{x:5},transition:{duration:.2},children:[s.jsx("div",{className:`p-1.5 rounded-full bg-gradient-to-r ${o.color} shadow-lg ${o.glow}`,children:s.jsx(c,{className:`w-3 h-3 ${o.textColor}`})}),s.jsx("span",{className:`text-sm font-medium ${"dark"===t?"text-white":"text-gray-900"}`,children:o.label})]})}),s.jsx("td",{className:"table-cell",children:s.jsx("div",{className:"space-y-1",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx(l.E.div,{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium shadow-lg ${0===d?"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white":1===d?"bg-gradient-to-r from-gray-300 to-gray-500 text-white":2===d?"bg-gradient-to-r from-orange-400 to-orange-600 text-white":"bg-gradient-to-r from-blue-500 to-purple-600 text-white"}`,whileHover:{scale:1.1,rotate:5},transition:{duration:.2},children:e.name.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:`font-medium ${"dark"===t?"text-white":"text-gray-900"}`,children:e.name}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(A.Z,{className:"w-3 h-3 text-gray-400"}),s.jsx("p",{className:`text-xs ${"dark"===t?"text-gray-400":"text-gray-500"}`,children:n(e.email)})]})]})]})})}),s.jsx("td",{className:"table-cell text-center",children:s.jsx(l.E.div,{className:"flex flex-col items-center space-y-1",whileHover:{scale:1.05},children:(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx($.Z,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{className:`font-semibold ${"dark"===t?"text-white":"text-gray-900"}`,children:r(e.totalUrls)})]})})}),s.jsx("td",{className:"table-cell text-center",children:s.jsx(l.E.div,{className:"flex flex-col items-center space-y-1",whileHover:{scale:1.05},children:(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(C.Z,{className:"w-4 h-4 text-purple-500"}),s.jsx("span",{className:`font-semibold ${"dark"===t?"text-white":"text-gray-900"}`,children:r(e.totalClicks)})]})})}),s.jsx("td",{className:"table-cell text-center",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(R.Z,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:`text-sm ${"dark"===t?"text-gray-300":"text-gray-700"}`,children:i(e.lastActive)})]})})]},e.id)})})]})}),q=({users:e,theme:t,expandedUser:a,setExpandedUser:r,getRankBadge:i,formatNumber:n,formatTimeAgo:d,truncateEmail:o})=>s.jsx("div",{className:"block md:hidden space-y-4 p-4",children:e.map((e,c)=>{let x=i(c),m=x.icon,h=a===e.id;return(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:.1*c,type:"spring",stiffness:100},whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 rounded-xl border cursor-pointer relative overflow-hidden ${"dark"===t?"bg-gray-700/50 border-gray-600 hover:bg-gray-700":"bg-gray-50 border-gray-200 hover:bg-white hover:shadow-md"} transition-all duration-300`,onClick:()=>r(h?null:e.id),children:[s.jsx(l.E.div,{className:`absolute -top-0 -right-0 p-2 rounded-full bg-gradient-to-r ${x.color} shadow-lg ${x.glow}`,animate:{boxShadow:[`0 0 0px ${x.color}`,`0 0 20px ${x.color.split(" ")[1]}`,`0 0 0px ${x.color}`]},transition:{duration:2,repeat:1/0},children:s.jsx(m,{className:`w-4 h-4 ${x.textColor}`})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[s.jsx(l.E.div,{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold shadow-lg ${0===c?"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white":1===c?"bg-gradient-to-r from-gray-300 to-gray-500 text-white":2===c?"bg-gradient-to-r from-orange-400 to-orange-600 text-white":"bg-gradient-to-r from-blue-500 to-purple-600 text-white"}`,animate:{rotate:h?360:0,scale:h?1.1:1},transition:{duration:.3},children:e.name.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:`font-semibold text-lg truncate ${"dark"===t?"text-white":"text-gray-900"}`,children:e.name}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(A.Z,{className:"w-3 h-3 text-gray-400 flex-shrink-0"}),s.jsx("p",{className:`text-sm truncate ${"dark"===t?"text-gray-400":"text-gray-600"}`,children:o(e.email,25)})]})]})]}),s.jsx(l.E.div,{animate:{rotate:h?180:0},transition:{duration:.3},children:s.jsx(P.Z,{className:`w-5 h-5 ${"dark"===t?"text-gray-400":"text-gray-600"}`})})]}),(0,s.jsxs)("div",{className:"flex justify-around mt-4 pt-3 border-t border-gray-300 dark:border-gray-600",children:[(0,s.jsxs)(l.E.div,{className:"text-center",whileHover:{scale:1.05},children:[(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[s.jsx($.Z,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{className:`font-bold ${"dark"===t?"text-white":"text-gray-900"}`,children:n(e.totalUrls)})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"URLs"})]}),(0,s.jsxs)(l.E.div,{className:"text-center",whileHover:{scale:1.05},children:[(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[s.jsx(C.Z,{className:"w-4 h-4 text-purple-500"}),s.jsx("span",{className:`font-bold ${"dark"===t?"text-white":"text-gray-900"}`,children:n(e.totalClicks)})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Clicks"})]}),(0,s.jsxs)(l.E.div,{className:"text-center",whileHover:{scale:1.05},children:[(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[s.jsx(R.Z,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:`font-medium text-sm ${"dark"===t?"text-gray-300":"text-gray-700"}`,children:d(e.lastActive)})]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Last active"})]})]}),s.jsx(T.M,{children:h&&s.jsx(l.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 pt-4 border-t border-gray-300 dark:border-gray-600",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)(l.E.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},className:"text-center p-3 rounded-lg bg-green-100 dark:bg-green-900/30",children:[s.jsx(y.Z,{className:"w-6 h-6 text-green-600 mx-auto mb-1"}),s.jsx("div",{className:"text-lg font-bold text-green-700 dark:text-green-400",children:e.totalClicks>0?Math.round(e.totalClicks/e.totalUrls):0}),s.jsx("div",{className:"text-xs text-green-600 dark:text-green-500",children:"Avg clicks/URL"})]}),(0,s.jsxs)(l.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"text-center p-3 rounded-lg bg-purple-100 dark:bg-purple-900/30",children:[s.jsx(L.Z,{className:"w-6 h-6 text-purple-600 mx-auto mb-1"}),s.jsx("div",{className:"text-lg font-bold text-purple-700 dark:text-purple-400",children:x.label}),s.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-500",children:"Global rank"})]})]})})}),c<3&&s.jsx(s.Fragment,{children:[void 0,void 0].map((e,t)=>s.jsx(l.E.div,{className:`absolute w-1 h-1 rounded-full ${0===c?"bg-yellow-400":1===c?"bg-gray-400":"bg-orange-400"}`,animate:{x:[10,30,10],y:[10,-10,10],opacity:[0,1,0],scale:[0,1.5,0]},transition:{duration:2,repeat:1/0,delay:.5*t+.2*c},style:{left:`${10+20*t}%`,top:"20%"}},t))})]},e.id)})}),_=({users:e,theme:t})=>s.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"px-4 sm:px-6 py-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-gray-800 dark:to-gray-700 border-t border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between text-sm gap-4",children:[(0,s.jsxs)("span",{className:"dark"===t?"text-gray-300":"text-gray-700",children:["Showing top ",e.length," most active users"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsxs)(l.E.div,{className:"flex items-center space-x-2",whileHover:{scale:1.05},children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-green-400 to-green-600"}),s.jsx("span",{className:"dark"===t?"text-gray-300":"text-gray-700",children:"URLs created"})]}),(0,s.jsxs)(l.E.div,{className:"flex items-center space-x-2",whileHover:{scale:1.05},children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-purple-400 to-purple-600"}),s.jsx("span",{className:"dark"===t?"text-gray-300":"text-gray-700",children:"Total clicks"})]})]})]})}),G=({theme:e})=>(0,s.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"p-12 text-center",children:[s.jsx(l.E.div,{animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:s.jsx(k.Z,{className:`w-16 h-16 mx-auto mb-4 ${"dark"===e?"text-gray-600":"text-gray-400"}`})}),s.jsx("h4",{className:`text-lg font-medium mb-2 ${"dark"===e?"text-gray-300":"text-gray-700"}`,children:"No User Data"}),s.jsx("p",{className:`text-sm ${"dark"===e?"text-gray-400":"text-gray-600"}`,children:"User activity data will appear here as the platform grows"})]});var z=a(30660),K=a(10669),B=a(18423),J=a(62637),W=a(9997),X=a(44675),Q=a(69274),V=a(47445);let Y=({trends:e,theme:t,timeRange:a,loading:r=!1})=>{let i=e=>new Intl.NumberFormat().format(e);return r?s.jsx(ee,{theme:t}):(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:`card p-6 ${"dark"===t?"bg-gray-800":"bg-white"}`,children:[s.jsx(et,{theme:t,periodLabel:(()=>{switch(a){case"24h":return"Last 24 Hours";case"7d":return"Last 7 Days";case"30d":return"Last 30 Days";case"90d":return"Last 90 Days";default:return"Growth Trends"}})()}),e.length>0?(0,s.jsxs)(s.Fragment,{children:[s.jsx(ea,{trends:e,theme:t,formatDate:e=>{let t=new Date(e);switch(a){case"24h":return t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});case"7d":return t.toLocaleDateString("en-US",{weekday:"short"});case"30d":case"90d":return t.toLocaleDateString("en-US",{month:"short",day:"numeric"});default:return t.toLocaleDateString()}},formatNumber:i}),s.jsx(es,{trends:e,theme:t,formatNumber:i})]}):s.jsx(er,{theme:t})]})},ee=({theme:e})=>(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:`card p-6 ${"dark"===e?"bg-gray-800":"bg-white"}`,children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[s.jsx(N.Z,{className:"w-6 h-6 text-green-500"}),s.jsx("h3",{className:`text-lg font-semibold ${"dark"===e?"text-white":"text-gray-900"}`,children:"Growth Trends"})]}),s.jsx("div",{className:"h-80 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-3 w-full",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4"}),s.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]})})]}),et=({theme:e,periodLabel:t})=>(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(N.Z,{className:"w-6 h-6 text-green-500"}),s.jsx("h3",{className:`text-lg font-semibold ${"dark"===e?"text-white":"text-gray-900"}`,children:"Growth Trends"})]}),s.jsx("span",{className:`text-sm ${"dark"===e?"text-gray-400":"text-gray-600"}`,children:t})]}),ea=({trends:e,theme:t,formatDate:a,formatNumber:r})=>s.jsx("div",{className:"h-80",children:s.jsx(z.h,{width:"100%",height:"100%",className:"ml-[-30px]",children:(0,s.jsxs)(K.T,{data:e,children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{id:"colorUsers",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),(0,s.jsxs)("linearGradient",{id:"colorUrls",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),(0,s.jsxs)("linearGradient",{id:"colorClicks",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})]}),s.jsx(B.q,{strokeDasharray:"3 3",stroke:"dark"===t?"#374151":"#e5e7eb"}),s.jsx(J.K,{dataKey:"date",tickFormatter:a,stroke:"dark"===t?"#9ca3af":"#6b7280",fontSize:12}),s.jsx(W.B,{stroke:"dark"===t?"#9ca3af":"#6b7280",fontSize:12}),s.jsx(X.u,{content:s.jsx(({active:e,payload:l,label:i})=>e&&l&&l.length?(0,s.jsxs)("div",{className:`p-3 rounded-lg border shadow-lg ${"dark"===t?"bg-gray-800 border-gray-700 text-white":"bg-white border-gray-200 text-gray-900"}`,children:[s.jsx("p",{className:"font-medium mb-2",children:a(i)}),l.map((e,t)=>(0,s.jsxs)("p",{style:{color:e.color},className:"text-sm",children:[e.name,": ",r(e.value)]},t))]}):null,{})}),s.jsx(Q.D,{}),s.jsx(V.u,{type:"monotone",dataKey:"users",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorUsers)",strokeWidth:2,name:"Users"}),s.jsx(V.u,{type:"monotone",dataKey:"urls",stroke:"#10b981",fillOpacity:1,fill:"url(#colorUrls)",strokeWidth:2,name:"URLs"}),s.jsx(V.u,{type:"monotone",dataKey:"clicks",stroke:"#8b5cf6",fillOpacity:1,fill:"url(#colorClicks)",strokeWidth:2,name:"Clicks"})]})})}),es=({trends:e,theme:t,formatNumber:a})=>s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:`text-lg font-semibold ${"dark"===t?"text-white":"text-gray-900"}`,children:a(e[e.length-1]?.users||0)}),s.jsx("div",{className:`text-sm ${"dark"===t?"text-gray-400":"text-gray-600"}`,children:"Current Users"})]}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:`text-lg font-semibold ${"dark"===t?"text-white":"text-gray-900"}`,children:a(e[e.length-1]?.urls||0)}),s.jsx("div",{className:`text-sm ${"dark"===t?"text-gray-400":"text-gray-600"}`,children:"Current URLs"})]}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:`text-lg font-semibold ${"dark"===t?"text-white":"text-gray-900"}`,children:a(e[e.length-1]?.clicks||0)}),s.jsx("div",{className:`text-sm ${"dark"===t?"text-gray-400":"text-gray-600"}`,children:"Current Clicks"})]})]})}),er=({theme:e})=>s.jsx("div",{className:"h-80 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(N.Z,{className:`w-16 h-16 mx-auto mb-4 ${"dark"===e?"text-gray-600":"text-gray-400"}`}),s.jsx("h4",{className:`text-lg font-medium mb-2 ${"dark"===e?"text-gray-300":"text-gray-700"}`,children:"No Growth Data"}),s.jsx("p",{className:`text-sm ${"dark"===e?"text-gray-400":"text-gray-600"}`,children:"Trend data will appear here as the platform grows"})]})});var el=a(4947);let ei=()=>{let{theme:e}=(0,d.Fg)(),{user:t}=(0,o.a)(),[a,x]=(0,r.useState)(null),[m,h]=(0,r.useState)(!0),[g,p]=(0,r.useState)(!1),[y,u]=(0,r.useState)("30d"),{MockDataSystem:v}=(0,el.A)(e),b=async(e=!0)=>{try{e?h(!0):p(!0);let t=new Date,a=new Date;switch(y){case"24h":a.setHours(a.getHours()-24);break;case"7d":a.setDate(a.getDate()-7);break;case"30d":a.setDate(a.getDate()-30);break;case"90d":a.setDate(a.getDate()-90)}let s=a.toISOString().substring(0,10),r=t.toISOString().substring(0,10),l=await c.ZP.analytics.getPlatformAnalytics({startDate:s,endDate:r});if(l.success&&l.data)x(l.data);else throw Error(l.message||"Failed to fetch platform data")}catch(e){console.error("Error fetching platform data:",e),x(f())}finally{h(!1),p(!1)}},f=()=>{let e=Array.from({length:30},(e,t)=>{let a=new Date;a.setDate(a.getDate()-(29-t));let s=a.toISOString().split("T")[0];if(!s)throw Error("Failed to generate mock date");return{date:s,users:Math.floor(50*Math.random())+150,urls:Math.floor(200*Math.random())+300,clicks:Math.floor(1e3*Math.random())+2e3}});return{overview:{users:{totalUsers:1247,active:892,new:23,growth:12.5},urls:{totalUrls:8934,active:7245,new:156,growth:8.3},clicks:{totalClicks:234567,today:1834,growth:15.7}},growth:{users:{daily:e.map(e=>({date:e.date,count:Math.floor(e.users/10)})),weekly:[],monthly:[]},urls:{daily:e.map(e=>({date:e.date,count:Math.floor(e.urls/5)})),weekly:[],monthly:[]},clicks:{daily:e.map(e=>({date:e.date,count:e.clicks})),weekly:[],monthly:[]}},performance:{averageResponseTime:145,errorRate:.02,uptime:99.8,requestsPerMinute:234},trends:e,topUsers:[{id:"1",name:"John Doe",email:"john@example.com",totalUrls:145,totalClicks:3421,lastActive:new Date(Date.now()-72e5).toISOString()},{id:"2",name:"Jane Smith",email:"jane@example.com",totalUrls:98,totalClicks:2134,lastActive:new Date(Date.now()-18e6).toISOString()},{id:"3",name:"Mike Johnson",email:"mike@example.com",totalUrls:76,totalClicks:1876,lastActive:new Date(Date.now()-864e5).toISOString()}]}};(0,r.useEffect)(()=>{b(!0)},[y]);let N=async()=>{await b(!1)};return m&&!a?s.jsx(n.Z,{title:"Platform Overview",description:"Monitor system health, user activity, and platform-wide metrics",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[void 0,void 0,void 0,void 0].map((e,t)=>s.jsx("div",{className:"card p-6",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"}),s.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})},t))})}):s.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,s.jsxs)(n.Z,{title:"Platform Overview",description:"Monitor system health, user activity, and platform-wide metrics",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsx(v,{message:"Overview demo",position:"bottom-right"}),s.jsx(()=>s.jsx("div",{className:`inline-flex rounded-lg border ${"dark"===e?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"} p-1`,children:[{value:"24h",label:"24H"},{value:"7d",label:"7D"},{value:"30d",label:"30D"},{value:"90d",label:"90D"}].map(t=>s.jsx("button",{onClick:()=>u(t.value),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${y===t.value?"bg-blue-600 text-white shadow-sm":"dark"===e?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-700 hover:text-gray-900 hover:bg-gray-100"}`,children:t.label},t.value))}),{}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[!t||"admin"!==t.role&&s.jsx("span",{className:"text-xs text-orange-500 bg-orange-50 dark:bg-orange-900/20 px-2 py-1 rounded",children:"Demo Mode"}),s.jsx(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:N,disabled:g,className:`p-2 rounded-lg border transition-colors ${g?"animate-spin":""} ${"dark"===e?"border-gray-700 hover:bg-gray-800 text-gray-400":"border-gray-300 hover:bg-gray-50 text-gray-600"}`,title:"Refresh data",children:s.jsx(i.Z,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"mb-8",children:s.jsx(j,{...a?.performance&&{performance:a.performance},theme:e,loading:g})}),s.jsx("div",{className:"mb-8",children:s.jsx(E,{...a?.overview&&{overview:a.overview},theme:e,loading:g})}),s.jsx("div",{className:"mb-8",children:s.jsx(Y,{trends:a?.trends||[],theme:e,timeRange:y,loading:g})}),s.jsx("div",{className:"mb-8",children:s.jsx(O,{users:a?.topUsers||[],theme:e,loading:g})})]})})}},20514:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,metadata:()=>l});var s=a(19510);let r=(0,a(68570).createProxy)(String.raw`C:\Users\Ваня\Desktop\snapurl\snap-url-admin\src\app\platform\PlatformOverviewContent.tsx#default`),l={title:"Platform Overview - SnapURL Admin",description:"Monitor platform-wide statistics, user activity, system health, and overall performance metrics for the SnapURL service.",keywords:"platform analytics, system overview, user statistics, platform metrics, admin dashboard, system monitoring"};function i(){return s.jsx(r,{})}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[35,889,649,947],()=>a(55209));module.exports=s})();