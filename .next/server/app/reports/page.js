(()=>{var e={};e.id=882,e.ids=[882],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71334:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c}),a(67847),a(74614),a(70903);var s=a(23191),r=a(88716),l=a(37922),i=a.n(l),n=a(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let c=["",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,67847)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\reports\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,74614)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,70903)),"C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\not-found.tsx"]}],o=["C:\\Users\\Ваня\\Desktop\\snapurl\\snap-url-admin\\src\\app\\reports\\page.tsx"],x="/reports/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/reports/page",pathname:"/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3795:(e,t,a)=>{Promise.resolve().then(a.bind(a,99857))},37358:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},54659:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},91470:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(76557).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},99857:(e,t,a)=>{"use strict";a.d(t,{default:()=>N});var s=a(10326),r=a(17577),l=a(16856),i=a(86462),n=a(48998),d=a(54659),c=a(91470),o=a(87888),x=a(83855),p=a(36283),m=a(37358),h=a(31540),u=a(98091),y=a(76464),g=a(21405),j=a(98058),b=a(23016),v=a(18069),f=a(33030);let N=()=>{let{theme:e}=(0,b.Fg)(),[t,a]=(0,r.useState)(!1),[N,k]=(0,r.useState)(null),[w,C]=(0,r.useState)(!1),[D,R]=(0,r.useState)([]),[$,S]=(0,r.useState)({type:"user",startDate:new Date(Date.now()-2592e6).toISOString().substring(0,10),endDate:new Date().toISOString().substring(0,10),format:"json",includeCharts:!1}),E=async()=>{try{a(!0),k(null);let e=await v.ZP.analytics.generateReport($);if(e.success&&e.data){let t;let a={id:`report-${Date.now()}`,name:`${$.type} Report - ${new Date().toLocaleDateString()}`,type:$.type,format:$.format,status:"completed",createdAt:new Date().toISOString(),metadata:e.data.metadata};t="csv"===$.format?"object"==typeof e.data.data?JSON.stringify(e.data.data):e.data.data:JSON.stringify(e.data.data,null,2);let s=new Blob([t],{type:"csv"===$.format?"text/csv":"application/json"});a.downloadUrl=URL.createObjectURL(s),R(e=>[a,...e]),C(!1)}else throw Error(e.message||"Failed to generate report")}catch(e){console.error("Error generating report:",e),k(e instanceof Error?e.message:"Failed to generate report")}finally{a(!1)}},Z=e=>{if(e.downloadUrl){let t=document.createElement("a");t.href=e.downloadUrl,t.download=`${e.name.replace(/\s+/g,"_")}.${e.format}`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}},U=e=>{R(t=>{let a=t.find(t=>t.id===e);return a?.downloadUrl&&URL.revokeObjectURL(a.downloadUrl),t.filter(t=>t.id!==e)})},P=e=>{switch(e){case"generating":return s.jsx(n.Z,{className:"w-4 h-4 text-yellow-500 animate-spin"});case"completed":return s.jsx(d.Z,{className:"w-4 h-4 text-green-500"});case"failed":return s.jsx(c.Z,{className:"w-4 h-4 text-red-500"});default:return s.jsx(n.Z,{className:"w-4 h-4 text-gray-400"})}},_=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsx(l.E.div,{variants:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3},children:(0,s.jsxs)(j.Z,{title:"Analytics Reports",description:"Generate and download comprehensive analytics reports",children:[s.jsx(i.M,{children:N&&(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(o.Z,{className:"w-5 h-5 text-red-500"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-red-700 dark:text-red-400 text-sm font-medium",children:"Report Generation Failed"}),s.jsx("p",{className:"text-red-600 dark:text-red-500 text-xs",children:N})]})]}),s.jsx("button",{onClick:()=>k(null),className:"mt-2 text-red-600 dark:text-red-400 text-sm hover:text-red-700 dark:hover:text-red-300 underline",children:"Dismiss"})]})}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsx("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>C(!0),className:"btn-primary px-4 py-2 rounded-lg flex items-center space-x-2",disabled:t,children:[s.jsx(x.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Generate Report"})]})}),s.jsx("div",{className:"flex items-center space-x-3",children:(0,s.jsxs)("span",{className:`text-sm ${"dark"===e?"text-gray-400":"text-gray-600"}`,children:[D.length," reports generated"]})})]}),s.jsx("div",{className:"space-y-6",children:s.jsx(f.t,{title:"Generated Reports",theme:e,children:D.length>0?s.jsx("div",{className:"space-y-4",children:D.map((t,a)=>(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},className:`p-4 rounded-lg border ${"dark"===e?"bg-gray-750 border-gray-700":"bg-gray-50 border-gray-200"}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-2 rounded-lg ${"dark"===e?"bg-blue-900/20":"bg-blue-100"}`,children:s.jsx(p.Z,{className:"w-5 h-5 text-blue-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:`font-medium ${"dark"===e?"text-white":"text-gray-900"}`,children:t.name}),P(t.status)]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 mt-1",children:[(0,s.jsxs)("span",{className:`text-sm ${"dark"===e?"text-gray-400":"text-gray-500"}`,children:["Type: ",t.type]}),(0,s.jsxs)("span",{className:`text-sm ${"dark"===e?"text-gray-400":"text-gray-500"}`,children:["Format: ",t.format.toUpperCase()]}),s.jsx("span",{className:`text-sm ${"dark"===e?"text-gray-400":"text-gray-500"}`,children:_(t.createdAt)})]}),t.metadata?.dateRange&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(m.Z,{className:"w-3 h-3 text-gray-400"}),(0,s.jsxs)("span",{className:`text-xs ${"dark"===e?"text-gray-500":"text-gray-400"}`,children:[new Date(t.metadata.dateRange.startDate).toLocaleDateString()," ","-"," ",new Date(t.metadata.dateRange.endDate).toLocaleDateString()]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:["completed"===t.status&&s.jsx(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(t),className:`p-2 rounded-lg transition-colors ${"dark"===e?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"}`,title:"Download Report",children:s.jsx(h.Z,{className:"w-4 h-4"})}),s.jsx(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>U(t.id),className:`p-2 rounded-lg transition-colors text-red-500 ${"dark"===e?"hover:bg-red-900/20":"hover:bg-red-50"}`,title:"Delete Report",children:s.jsx(u.Z,{className:"w-4 h-4"})})]})]}),t.error&&(0,s.jsxs)("div",{className:"mt-3 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-sm text-red-600 dark:text-red-400",children:["Error: ",t.error]})]},t.id))}):(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx(y.Z,{className:`w-16 h-16 mx-auto mb-4 ${"dark"===e?"text-gray-600":"text-gray-400"}`}),s.jsx("h3",{className:`text-lg font-medium mb-2 ${"dark"===e?"text-gray-300":"text-gray-700"}`,children:"No Reports Generated"}),s.jsx("p",{className:`text-sm mb-4 ${"dark"===e?"text-gray-400":"text-gray-600"}`,children:"Create your first analytics report to get started"}),(0,s.jsxs)(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>C(!0),className:"btn-primary px-4 py-2 rounded-lg flex items-center space-x-2 mx-auto",children:[s.jsx(x.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Generate First Report"})]})]})})}),s.jsx(i.M,{children:w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)(l.E.div,{variants:{hidden:{opacity:0,scale:.9,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.9,y:20,transition:{duration:.2}}},initial:"hidden",animate:"visible",exit:"exit",className:`w-full max-w-lg rounded-lg shadow-xl ${"dark"===e?"bg-gray-800":"bg-white"} max-h-[90vh] overflow-y-auto`,onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:`flex items-center justify-between p-6 border-b ${"dark"===e?"border-gray-700":"border-gray-200"}`,children:[s.jsx("h2",{className:`text-xl font-semibold ${"dark"===e?"text-white":"text-gray-900"}`,children:"Generate Analytics Report"}),s.jsx(l.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>C(!1),className:`p-1 rounded-lg ${"dark"===e?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:s.jsx(c.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${"dark"===e?"text-gray-300":"text-gray-700"}`,children:"Report Type"}),(0,s.jsxs)("select",{value:$.type,onChange:e=>S(t=>({...t,type:e.target.value})),className:"input-base",children:[s.jsx("option",{value:"user",children:"User Report"}),s.jsx("option",{value:"url",children:"URL Report"}),s.jsx("option",{value:"platform",children:"Platform Report"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${"dark"===e?"text-gray-300":"text-gray-700"}`,children:"Start Date"}),s.jsx("input",{type:"date",value:$.startDate,onChange:e=>S(t=>({...t,startDate:e.target.value})),className:"input-base"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${"dark"===e?"text-gray-300":"text-gray-700"}`,children:"End Date"}),s.jsx("input",{type:"date",value:$.endDate,onChange:e=>S(t=>({...t,endDate:e.target.value})),className:"input-base"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${"dark"===e?"text-gray-300":"text-gray-700"}`,children:"Export Format"}),(0,s.jsxs)("select",{value:$.format,onChange:e=>S(t=>({...t,format:e.target.value})),className:"input-base",children:[s.jsx("option",{value:"json",children:"JSON"}),s.jsx("option",{value:"csv",children:"CSV"})]})]}),s.jsx("div",{className:"space-y-3",children:(0,s.jsxs)(l.E.div,{whileHover:{scale:1.02},className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"includeCharts",checked:$.includeCharts,onChange:e=>S(t=>({...t,includeCharts:e.target.checked})),className:"rounded border-gray-300 dark:border-gray-600"}),s.jsx("label",{htmlFor:"includeCharts",className:`ml-2 text-sm ${"dark"===e?"text-gray-300":"text-gray-700"}`,children:"Include Chart Configuration Data"})]})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>C(!1),className:"btn-secondary px-4 py-2 rounded-lg",disabled:t,children:"Cancel"}),s.jsx(l.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:E,className:"btn-primary px-4 py-2 rounded-lg flex items-center space-x-2",disabled:t,children:t?(0,s.jsxs)(s.Fragment,{children:[s.jsx(g.Z,{className:"w-4 h-4 animate-spin"}),s.jsx("span",{children:"Generating..."})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(p.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Generate Report"})]})})]})]})]})})})]})})}},33030:(e,t,a)=>{"use strict";a.d(t,{t:()=>l});var s=a(10326),r=a(16856);let l=({title:e,children:t,theme:a,action:l})=>(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:`card p-6 pb-12 ${"dark"===a?"bg-gray-800":"bg-white"}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:`text-lg font-semibold ${"dark"===a?"text-white":"text-gray-900"}`,children:e}),l&&s.jsx("div",{children:l})]}),s.jsx("div",{children:t})]})},67847:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i,metadata:()=>l});var s=a(19510);let r=(0,a(68570).createProxy)(String.raw`C:\Users\Ваня\Desktop\snapurl\snap-url-admin\src\app\reports\ReportsContent.tsx#default`),l={title:"Analytics Reports - SnapURL Admin",description:"Generate comprehensive analytics reports and download detailed data insights for your shortened URLs.",keywords:"analytics reports, data export, automated reports, CSV export, JSON export, report generation, analytics data"};function i(){return s.jsx(r,{})}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[35,649],()=>a(71334));module.exports=s})();