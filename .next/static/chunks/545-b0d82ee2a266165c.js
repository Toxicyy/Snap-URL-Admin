"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[545],{6545:function(e,t,a){a.d(t,{Z:function(){return eN}});var r=a(57437),s=a(2265),l=a(99376),n=a(5095),i=a(60429),o=a(12025),c=a(71245),d=a(98335),x=a(58293),m=a(10407),h=a(22252),u=a(15863),y=a(73247),g=a(82023),p=a(37533),b=a(41217),f=a(17580);let v=e=>{let{theme:t,isSearching:a,error:s,searchResults:l,searchQuery:n,selectedIndex:i,onResultClick:o}=e;return(0,r.jsx)("div",{className:"absolute top-full mt-2 w-full rounded-xl border shadow-2xl z-50 overflow-hidden ".concat("dark"===t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:a?(0,r.jsx)(w,{theme:t}):s?(0,r.jsx)(j,{theme:t,error:s}):0===l.length?(0,r.jsx)(k,{theme:t,searchQuery:n}):(0,r.jsx)(N,{results:l,selectedIndex:i,onResultClick:o,theme:t})})},w=e=>{let{theme:t}=e;return(0,r.jsxs)("div",{className:"p-4 flex items-center justify-center space-x-2",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4 animate-spin ".concat("dark"===t?"text-blue-400":"text-blue-500")}),(0,r.jsx)("span",{className:"text-sm ".concat("dark"===t?"text-gray-300":"text-gray-600"),children:"Searching URLs..."})]})},j=e=>{let{theme:t,error:a}=e;return(0,r.jsxs)("div",{className:"p-4 sm:p-6 text-center",children:[(0,r.jsx)(h.Z,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-2 ".concat("dark"===t?"text-red-400":"text-red-500")}),(0,r.jsx)("p",{className:"text-sm ".concat("dark"===t?"text-red-400":"text-red-600"),children:a})]})},k=e=>{let{theme:t,searchQuery:a}=e;return(0,r.jsxs)("div",{className:"p-4 sm:p-6 text-center",children:[(0,r.jsx)(y.Z,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-2 ".concat("dark"===t?"text-gray-600":"text-gray-400")}),(0,r.jsxs)("p",{className:"text-sm ".concat("dark"===t?"text-gray-400":"text-gray-600"),children:['No URLs found for "',a,'"']}),(0,r.jsx)("p",{className:"text-xs mt-1 ".concat("text-gray-500"),children:"Try searching with different keywords"})]})},N=e=>{let{results:t,selectedIndex:a,onResultClick:s,theme:l}=e;return(0,r.jsx)("div",{className:"max-h-80 sm:max-h-96 overflow-y-auto",children:t.map((e,t)=>(0,r.jsx)(E,{result:e,isSelected:a===t,onClick:()=>s(e),theme:l},e.id))})},E=e=>{let{result:t,isSelected:a,onClick:s,theme:l}=e;return(0,r.jsxs)("div",{onClick:s,className:"group flex items-center px-3 sm:px-4 py-3 cursor-pointer transition-all duration-150 ".concat(a?"dark"===l?"bg-blue-900/50 border-l-2 border-blue-400":"bg-blue-50 border-l-2 border-blue-500":"dark"===l?"hover:bg-gray-750 border-l-2 border-transparent":"hover:bg-gray-50 border-l-2 border-transparent"),children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-6 h-6 sm:w-8 sm:h-8 rounded-lg flex items-center justify-center mr-2 sm:mr-3 transition-colors ".concat("dark"===l?"bg-green-900/30 text-green-400":"bg-green-100 text-green-600"),children:(0,r.jsx)(t.icon,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("p",{className:"text-sm font-medium truncate ".concat("dark"===l?"text-white":"text-gray-900"),children:t.title}),(0,r.jsx)("span",{className:"hidden sm:inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ".concat("dark"===l?"bg-green-900/30 text-green-400":"bg-green-100 text-green-700"),children:"URL"})]}),t.subtitle&&(0,r.jsx)("p",{className:"text-xs truncate mt-0.5 ".concat("dark"===l?"text-gray-400":"text-gray-500"),children:t.subtitle}),t.metadata&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 mt-1",children:[void 0!==t.metadata.clickCount&&(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(p.Z,{className:"w-3 h-3 ".concat("dark"===l?"text-gray-500":"text-gray-400")}),(0,r.jsx)("span",{className:"text-xs ".concat("dark"===l?"text-gray-500":"text-gray-400"),children:t.metadata.clickCount.toLocaleString()})]}),t.metadata.shortCode&&(0,r.jsxs)("div",{className:"hidden sm:flex items-center space-x-1",children:[(0,r.jsx)(b.Z,{className:"w-3 h-3 ".concat("dark"===l?"text-gray-500":"text-gray-400")}),(0,r.jsx)("span",{className:"text-xs font-mono ".concat("dark"===l?"text-gray-500":"text-gray-400"),children:t.metadata.shortCode})]})]})]}),(0,r.jsx)(f.Z,{className:"hidden sm:block w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity ".concat("dark"===l?"text-gray-400":"text-gray-500")})]})};var C=e=>{let{theme:t,searchQuery:a,setSearchQuery:s,searchResults:l,isSearching:n,showSearchResults:i,selectedIndex:o,onResultClick:c,onKeyDown:d,onFocus:x,searchRef:m,inputRef:h,error:p}=e;return(0,r.jsx)("div",{className:"flex-1 max-w-2xl mx-2 sm:mx-4",ref:m,children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n?(0,r.jsx)(u.Z,{className:"w-4 h-4 animate-spin ".concat("text-gray-400")}):(0,r.jsx)(y.Z,{className:"w-4 h-4 ".concat("text-gray-400")})}),(0,r.jsx)("input",{ref:h,type:"text",value:a,onChange:e=>{s(e.target.value)},onKeyDown:d,onFocus:x,className:"w-full pl-10 pr-3 sm:pr-16 py-2.5 rounded-xl border transition-all duration-200 ".concat(i?"dark"===t?"bg-gray-800 border-blue-600 shadow-lg shadow-blue-500/10":"bg-white border-blue-500 shadow-lg shadow-blue-500/10":"dark"===t?"bg-gray-800 border-gray-600 hover:border-gray-500":"bg-gray-50 border-gray-300 hover:border-gray-400"," ").concat("dark"===t?"text-white placeholder-gray-400 focus:border-blue-500":"text-gray-900 placeholder-gray-500 focus:border-blue-500"," focus:ring-4 focus:ring-blue-500/20 focus:outline-none text-sm sm:text-base"),placeholder:"Search URLs..."}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 hidden sm:flex items-center pointer-events-none",children:(0,r.jsx)("kbd",{className:"inline-flex items-center px-2 py-1 text-xs rounded ".concat("dark"===t?"bg-gray-700 text-gray-400 border border-gray-600":"bg-gray-200 text-gray-500 border border-gray-300"),children:(0,r.jsx)(g.Z,{className:"w-6 h-6"})})})]}),i&&(0,r.jsx)(v,{theme:t,isSearching:n,error:p,searchResults:l,searchQuery:a,selectedIndex:o,onResultClick:c})]})})},S=a(29),R=a.n(S),Z=a(94766);let L=e=>{let{theme:t,unreadCount:a,onClick:s}=e;return(0,r.jsxs)("button",{onClick:s,className:"p-2 rounded-lg transition-all duration-200 hover:scale-105 relative ".concat("dark"===t?"text-gray-300 hover:bg-gray-800":"text-gray-600 hover:bg-gray-100"),"aria-label":"Notifications".concat(a>0?" (".concat(a," unread)"):""),children:[(0,r.jsx)(Z.Z,{className:"w-5 h-5"}),a>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",style:{animation:"scale 0.3s ease-out"},children:a>99?"99+":a})]})},U=e=>{let{theme:t,unreadCount:a}=e;return(0,r.jsx)("div",{className:"px-4 py-3 border-b ".concat("dark"===t?"border-gray-700":"border-gray-200"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-sm font-medium ".concat("dark"===t?"text-white":"text-gray-900"),children:"Notifications"}),a>0&&(0,r.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("dark"===t?"bg-blue-900 text-blue-200":"bg-blue-100 text-blue-800"),children:[a," new"]})]})})},z=e=>{let{theme:t,notifications:a,onMarkAsRead:s}=e;return(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto overflow-x-hidden",children:0===a.length?(0,r.jsx)(D,{theme:t}):(0,r.jsx)(r.Fragment,{children:a.map(e=>(0,r.jsx)(A,{notification:e,theme:t,onMarkAsRead:s},e.id))})})},D=e=>{let{theme:t}=e;return(0,r.jsxs)("div",{className:"px-4 py-8 text-center",children:[(0,r.jsx)(Z.Z,{className:"w-8 h-8 mx-auto mb-2 ".concat("dark"===t?"text-gray-600":"text-gray-400")}),(0,r.jsx)("p",{className:"text-sm ".concat("dark"===t?"text-gray-400":"text-gray-600"),children:"No notifications yet"}),(0,r.jsx)("p",{className:"text-xs mt-1 ".concat("text-gray-500"),children:"When you have updates, they'll appear here"})]})},A=e=>{let{notification:t,theme:a,onMarkAsRead:s}=e;return(0,r.jsx)("div",{onClick:()=>{t.read||s(t.id)},className:"px-4 py-2.5 border-b last:border-b-0 cursor-pointer transition-all duration-200 hover:translate-x-1 ".concat(t.read?"dark"===a?"border-gray-700 hover:bg-gray-750":"border-gray-100 hover:bg-gray-50":"dark"===a?"bg-blue-900/20 border-gray-700 hover:bg-blue-900/30":"bg-blue-50 border-gray-100 hover:bg-blue-100"),children:(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium ".concat("dark"===a?"text-white":"text-gray-900"),children:t.title}),!t.read&&(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0",style:{animation:"pulse 2s infinite"}})]}),(0,r.jsx)("p",{className:"text-xs mt-1 line-clamp-2 ".concat("dark"===a?"text-gray-400":"text-gray-600"),children:t.message}),(0,r.jsx)("span",{className:"text-xs mt-1 block ".concat("text-gray-500"),children:t.time})]})})})},O=e=>{let{theme:t,totalNotifications:a,onOpenModal:s}=e;return(0,r.jsx)("div",{className:"px-4 py-3 border-t ".concat("dark"===t?"border-gray-700":"border-gray-200"),children:(0,r.jsxs)("button",{onClick:s,className:"w-full text-center text-sm font-medium py-1.5 rounded-lg transition-colors ".concat("dark"===t?"text-blue-400 hover:bg-gray-700":"text-blue-600 hover:bg-gray-100"),children:["View All Notifications (",a,")"]})})};var M=e=>{let{theme:t,show:a,notifications:s,unreadCount:l,hasMoreNotifications:n,onToggle:i,onMarkAsRead:o,onOpenModal:c,dropdownRef:d,totalNotifications:x}=e;return(0,r.jsxs)("div",{ref:d,className:"jsx-67f40a4625713cff relative",children:[(0,r.jsx)(L,{theme:t,unreadCount:l,onClick:i}),a&&(0,r.jsxs)("div",{style:{animation:"slideDown 0.2s ease-out",transformOrigin:"top right"},className:"jsx-67f40a4625713cff "+"absolute right-0 mt-2 w-80 rounded-xl shadow-2xl border overflow-hidden z-50 ".concat("dark"===t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,r.jsx)(U,{theme:t,unreadCount:l}),(0,r.jsx)(z,{theme:t,notifications:s,onMarkAsRead:o}),n&&(0,r.jsx)(O,{theme:t,totalNotifications:x,onOpenModal:c})]}),(0,r.jsx)(R(),{id:"67f40a4625713cff",children:"@-webkit-keyframes slideDown{from{opacity:0;-webkit-transform:translatey(-10px)scale(.95);transform:translatey(-10px)scale(.95)}to{opacity:1;-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-moz-keyframes slideDown{from{opacity:0;-moz-transform:translatey(-10px)scale(.95);transform:translatey(-10px)scale(.95)}to{opacity:1;-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-o-keyframes slideDown{from{opacity:0;-o-transform:translatey(-10px)scale(.95);transform:translatey(-10px)scale(.95)}to{opacity:1;-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@keyframes slideDown{from{opacity:0;-webkit-transform:translatey(-10px)scale(.95);-moz-transform:translatey(-10px)scale(.95);-o-transform:translatey(-10px)scale(.95);transform:translatey(-10px)scale(.95)}to{opacity:1;-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-webkit-keyframes scale{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-moz-keyframes scale{0%{-moz-transform:scale(0);transform:scale(0)}50%{-moz-transform:scale(1.2);transform:scale(1.2)}100%{-moz-transform:scale(1);transform:scale(1)}}@-o-keyframes scale{0%{-o-transform:scale(0);transform:scale(0)}50%{-o-transform:scale(1.2);transform:scale(1.2)}100%{-o-transform:scale(1);transform:scale(1)}}@keyframes scale{0%{-webkit-transform:scale(0);-moz-transform:scale(0);-o-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);transform:scale(1.2)}100%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@-webkit-keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}@-moz-keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}@-o-keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}"})]})},T=a(40875),I=a(92369),_=a(98728),H=a(47692);let F=e=>{let{user:t,theme:a}=e;return(0,r.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("dark"===a?"bg-gray-700":"bg-gray-200"),children:(null==t?void 0:t.avatar)?(0,r.jsx)("img",{src:t.avatar,alt:t.name||"User",className:"w-full h-full rounded-full object-cover"}):(0,r.jsx)("span",{className:"text-sm font-medium ".concat("dark"===a?"text-gray-300":"text-gray-700"),children:(null==t?void 0:t.name)?t.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U"})})},P=e=>{let{user:t,theme:a}=e;return(0,r.jsx)("div",{className:"px-4 py-3 border-b ".concat("dark"===a?"border-gray-700":"border-gray-200"),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(F,{user:t,theme:a}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium truncate ".concat("dark"===a?"text-white":"text-gray-900"),children:(null==t?void 0:t.name)||"User"}),(0,r.jsx)("p",{className:"text-xs truncate ".concat("dark"===a?"text-gray-400":"text-gray-500"),children:(null==t?void 0:t.email)||"user@example.com"}),(null==t?void 0:t.role)&&"user"!==t.role&&(0,r.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium mt-1 ".concat("admin"===t.role?"dark"===a?"bg-red-900/30 text-red-400":"bg-red-100 text-red-700":"dark"===a?"bg-yellow-900/30 text-yellow-400":"bg-yellow-100 text-yellow-700"),children:t.role.charAt(0).toUpperCase()+t.role.slice(1)})]})]})})},W=e=>{let{icon:t,label:a,onClick:s,theme:l,destructive:n=!1}=e;return(0,r.jsxs)("button",{onClick:s,className:"w-full flex items-center space-x-3 px-4 py-2 text-left transition-all duration-150 hover:translate-x-1 ".concat(n?"dark"===l?"text-red-400 hover:bg-red-900/20":"text-red-600 hover:bg-red-50":"dark"===l?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"),children:[(0,r.jsx)(t,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm",children:a})]})};var J=e=>{let{theme:t,user:a,show:s,onToggle:l,onLogout:n,onNavigate:i,dropdownRef:o}=e;return(0,r.jsxs)("div",{ref:o,className:"jsx-6c714a4182041829 relative",children:[(0,r.jsxs)("button",{onClick:l,"aria-label":"User menu",className:"jsx-6c714a4182041829 "+"flex items-center space-x-2 p-2 rounded-lg transition-all duration-200 hover:scale-105 ".concat("dark"===t?"text-gray-300 hover:bg-gray-800":"text-gray-600 hover:bg-gray-100"),children:[(0,r.jsx)(F,{user:a,theme:t}),(0,r.jsx)(T.Z,{className:"w-4 h-4 hidden sm:block"})]}),s&&(0,r.jsxs)("div",{style:{animation:"slideDown 0.2s ease-out",transformOrigin:"top right"},className:"jsx-6c714a4182041829 "+"absolute right-0 mt-2 w-56 rounded-xl shadow-2xl border overflow-hidden z-50 ".concat("dark"===t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[(0,r.jsx)(P,{user:a,theme:t}),(0,r.jsxs)("div",{className:"jsx-6c714a4182041829 py-1",children:[(0,r.jsx)(W,{icon:I.Z,label:"Profile",onClick:()=>{i("/profile")},theme:t}),(0,r.jsx)(W,{icon:_.Z,label:"Settings",onClick:()=>{i("/settings")},theme:t}),(0,r.jsx)("div",{className:"jsx-6c714a4182041829 "+"border-t ".concat("dark"===t?"border-gray-700":"border-gray-200"," my-1")}),(0,r.jsx)(W,{icon:H.Z,label:"Log out",onClick:()=>{n()},theme:t,destructive:!0})]})]}),(0,r.jsx)(R(),{id:"6c714a4182041829",children:"@-webkit-keyframes slideDown{from{opacity:0;-webkit-transform:translatey(-10px)scale(.95);transform:translatey(-10px)scale(.95)}to{opacity:1;-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-moz-keyframes slideDown{from{opacity:0;-moz-transform:translatey(-10px)scale(.95);transform:translatey(-10px)scale(.95)}to{opacity:1;-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-o-keyframes slideDown{from{opacity:0;-o-transform:translatey(-10px)scale(.95);transform:translatey(-10px)scale(.95)}to{opacity:1;-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@keyframes slideDown{from{opacity:0;-webkit-transform:translatey(-10px)scale(.95);-moz-transform:translatey(-10px)scale(.95);-o-transform:translatey(-10px)scale(.95);transform:translatey(-10px)scale(.95)}to{opacity:1;-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}"})]})},B=a(99397),K=a(92735),Q=a(82431);let q=e=>{let{icon:t,tooltip:a,onClick:s,theme:l,variant:n="secondary",disabled:i=!1}=e;return(0,r.jsx)("button",{onClick:()=>{i||s()},disabled:i,title:a,className:(()=>{let e="p-2 rounded-lg transition-all duration-200 hover:scale-110 active:scale-90 disabled:opacity-50 disabled:cursor-not-allowed";return"primary"===n?"".concat(e," ").concat("bg-blue-600 text-white hover:bg-blue-700 disabled:hover:bg-blue-600"):"".concat(e," ").concat("dark"===l?"text-gray-300 hover:bg-gray-800 disabled:hover:bg-transparent":"text-gray-600 hover:bg-gray-100 disabled:hover:bg-transparent")})(),"aria-label":a,children:(0,r.jsx)(t,{className:"w-5 h-5"})})};var X=e=>{let{theme:t,onCreateUrl:a,onExport:s,onRefresh:l}=e;return(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-2",children:[(0,r.jsx)(q,{icon:B.Z,tooltip:"Create New URL",onClick:a,theme:t,variant:"primary"}),(0,r.jsx)(q,{icon:K.Z,tooltip:"Export Data",onClick:s,theme:t,variant:"secondary"}),(0,r.jsx)(q,{icon:Q.Z,tooltip:"Refresh Page",onClick:l,theme:t,variant:"secondary"})]})},V=a(66955);let Y=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(!t)return;let r=t=>{a.current&&!a.current.contains(t.target)&&e()};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[e,t]),a};var $=a(71837),G=a(59196),ee=a(18930),et=a(32489);let ea=e=>{let{notification:t,theme:a,onMarkAsRead:s,onRemove:l,index:n}=e;return(0,r.jsx)(i.E.div,{initial:{opacity:0,x:-30,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:30,scale:.95},transition:{duration:.1,type:"spring"},whileHover:{scale:1.02,x:8,transition:{duration:.1}},className:"px-6 py-4 mx-4 transition-all duration-200 cursor-pointer group relative border-l-4 ".concat(t.read?"dark"===a?"hover:bg-gray-750/30 opacity-75 border-l-gray-600":"hover:bg-gray-50/50 opacity-75 border-l-gray-300":"dark"===a?"hover:bg-gray-750/50 bg-gray-800/30 border-l-blue-500":"hover:bg-blue-50/80 bg-blue-25/50 border-l-blue-500"),onClick:()=>{t.read||s(t.id)},children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(i.E.h4,{className:"text-sm font-medium ".concat("dark"===a?"text-white":"text-gray-900"),initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*n+.1},children:t.title}),!t.read&&(0,r.jsx)(i.E.div,{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0",initial:{scale:0},animate:{scale:1},transition:{delay:.05*n+.2,type:"spring",stiffness:400},whileHover:{scale:1.2}})]}),(0,r.jsx)(i.E.p,{className:"text-sm mt-1 ".concat("dark"===a?"text-gray-300":"text-gray-600"),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*n+.15},children:t.message}),(0,r.jsx)(i.E.span,{className:"text-xs mt-2 block ".concat("text-gray-500"),initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*n+.2},children:t.time})]}),(0,r.jsx)(i.E.button,{initial:{opacity:0,scale:.8},animate:{opacity:0,scale:1},whileHover:{opacity:1,scale:1.1,rotate:90},className:"group-hover:opacity-100 transition-all duration-200 p-2 rounded-lg ".concat("dark"===a?"text-gray-500 hover:text-red-400 hover:bg-red-900/30":"text-gray-400 hover:text-red-600 hover:bg-red-50"),onClick:e=>{e.stopPropagation(),l(t.id)},title:"Remove notification",children:(0,r.jsx)(et.Z,{className:"w-4 h-4"})})]})})};var er=e=>{let{isOpen:t,onClose:a,notifications:l,theme:o,onMarkAsRead:c,onMarkAllAsRead:d,onRemoveNotification:x,onClearAll:m}=e;if((0,s.useEffect)(()=>{if(!t)return;let e=e=>{"Escape"===e.key&&a()};return document.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,a]),!t)return null;let h=l.filter(e=>!e.read),u=l.filter(e=>e.read),y={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{delay:.2,duration:.3,type:"spring",stiffness:400}}};return(0,r.jsx)(n.M,{mode:"wait",children:t&&(0,r.jsxs)(i.E.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,transition:{duration:.2,ease:"easeIn"}}},initial:"hidden",animate:"visible",exit:"exit",className:"fixed inset-0 z-50 overflow-y-auto",style:{backdropFilter:"blur(8px)"},children:[(0,r.jsx)(i.E.div,{className:"fixed inset-0 transition-all duration-300 ".concat("dark"===o?"bg-gradient-to-br from-black/80 via-gray-900/70 to-black/80":"bg-gradient-to-br from-black/60 via-gray-900/40 to-black/60"),onClick:a,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),(0,r.jsx)("div",{className:"relative min-h-full flex items-center justify-center p-4",children:(0,r.jsxs)(i.E.div,{variants:{hidden:{opacity:0,scale:.8,y:50,rotateX:-15},visible:{opacity:1,scale:1,y:0,rotateX:0,transition:{duration:.4,ease:"easeOut",type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.8,y:30,transition:{duration:.2,ease:"easeIn"}}},initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-2xl rounded-3xl shadow-2xl border-2 ".concat("dark"===o?"bg-gray-800/95 border-gray-600/50 shadow-black/50":"bg-white/95 border-gray-300/50 shadow-black/20"),style:{maxHeight:"90vh",boxShadow:"dark"===o?"0 25px 50px -12px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 0.05)":"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.3)"},children:[(0,r.jsxs)(i.E.div,{variants:{hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{delay:.1,duration:.3}}},initial:"hidden",animate:"visible",className:"flex items-center justify-between p-6 border-b ".concat("dark"===o?"border-gray-600/50":"border-gray-300/50"),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(i.E.div,{initial:{rotate:-180,scale:0},animate:{rotate:0,scale:1},transition:{delay:.2,duration:.5,type:"spring"},children:(0,r.jsx)(Z.Z,{className:"w-7 h-7 ".concat("dark"===o?"text-blue-400":"text-blue-600")})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.E.h2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.3},className:"text-xl font-bold bg-gradient-to-r bg-clip-text text-transparent ".concat("dark"===o?"from-white to-gray-300":"from-gray-900 to-gray-600"),children:"All Notifications"}),(0,r.jsxs)(i.E.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4,duration:.3},className:"text-sm ".concat("dark"===o?"text-gray-400":"text-gray-600"),children:[l.length," total, ",h.length," ","unread"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[h.length>0&&(0,r.jsxs)(i.E.button,{variants:y,initial:"hidden",animate:"visible",whileHover:{scale:1.05,boxShadow:"dark"===o?"0 8px 25px rgba(59, 130, 246, 0.3)":"0 8px 25px rgba(59, 130, 246, 0.2)"},whileTap:{scale:.95},onClick:d,className:"flex items-center space-x-2 px-4 py-2 rounded-xl font-medium text-sm transition-all duration-200 ".concat("dark"===o?"bg-blue-600/20 text-blue-400 border border-blue-500/30 hover:bg-blue-600/30 hover:border-blue-400/50":"bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100 hover:border-blue-300"),title:"Mark all as read",children:[(0,r.jsx)(G.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Mark All Read"})]}),l.length>0&&(0,r.jsxs)(i.E.button,{variants:y,initial:"hidden",animate:"visible",whileHover:{scale:1.05,boxShadow:"dark"===o?"0 8px 25px rgba(239, 68, 68, 0.3)":"0 8px 25px rgba(239, 68, 68, 0.2)"},whileTap:{scale:.95},onClick:m,className:"flex items-center space-x-2 px-4 py-2 rounded-xl font-medium text-sm transition-all duration-200 ".concat("dark"===o?"bg-red-600/20 text-red-400 border border-red-500/30 hover:bg-red-600/30 hover:border-red-400/50":"bg-red-50 text-red-700 border border-red-200 hover:bg-red-100 hover:border-red-300"),title:"Clear all notifications",children:[(0,r.jsx)(ee.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Clear All"})]}),(0,r.jsx)(i.E.button,{initial:{opacity:0,rotate:180},animate:{opacity:1,rotate:0},transition:{delay:.3,duration:.3},whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:a,className:"p-2 rounded-xl transition-all duration-200 ".concat("dark"===o?"text-gray-400 hover:bg-gray-700/50 hover:text-white":"text-gray-500 hover:bg-gray-100 hover:text-gray-700"),children:(0,r.jsx)(et.Z,{className:"w-5 h-5"})})]})]}),(0,r.jsx)(i.E.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{delay:.15,duration:.4}}},initial:"hidden",animate:"visible",className:"overflow-y-auto overflow-x-hidden",style:{maxHeight:"70vh"},children:0===l.length?(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"flex flex-col items-center justify-center py-12 px-6",children:[(0,r.jsx)(i.E.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:(0,r.jsx)(Z.Z,{className:"w-16 h-16 mb-4 ".concat("dark"===o?"text-gray-600":"text-gray-400")})}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2 ".concat("dark"===o?"text-gray-300":"text-gray-700"),children:"No notifications yet"}),(0,r.jsx)("p",{className:"text-sm text-center ".concat("text-gray-500"),children:"When you have notifications, they'll appear here."})]}):(0,r.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1,duration:.3},className:"divide-y divide-gray-200 dark:divide-gray-700",children:[h.length>0&&(0,r.jsxs)(i.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2,duration:.3},children:[(0,r.jsx)("div",{className:"px-6 py-3 bg-opacity-50 ".concat("dark"===o?"bg-blue-900/20":"bg-blue-50"),children:(0,r.jsxs)("h3",{className:"text-sm font-medium ".concat("dark"===o?"text-blue-400":"text-blue-700"),children:["Unread (",h.length,")"]})}),h.map((e,t)=>(0,r.jsx)(ea,{notification:e,theme:o,onMarkAsRead:c,onRemove:x,index:t,isUnread:!0},e.id))]}),u.length>0&&(0,r.jsxs)(i.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.3},children:[h.length>0&&(0,r.jsx)("div",{className:"px-6 py-3 ".concat("dark"===o?"bg-gray-800/50":"bg-gray-50"),children:(0,r.jsxs)("h3",{className:"text-sm font-medium ".concat("dark"===o?"text-gray-400":"text-gray-600"),children:["Read (",u.length,")"]})}),u.map((e,t)=>(0,r.jsx)(ea,{notification:e,theme:o,onMarkAsRead:c,onRemove:x,index:t,isUnread:!1},e.id))]})]})})]})})]})})},es=e=>{let{sidebarOpen:t,setSidebarOpen:a}=e,{theme:n}=(0,o.Fg)(),{user:i,logout:u}=(0,c.a)(),y=(0,l.useRouter)(),[g,p]=(0,s.useState)("/dashboard");(0,s.useEffect)(()=>{p(window.location.pathname)},[y]),(0,s.useEffect)(()=>{let e=()=>{p(window.location.pathname)};window.addEventListener("popstate",e);let t=history.pushState,a=history.replaceState;return history.pushState=function(){for(var a=arguments.length,r=Array(a),s=0;s<a;s++)r[s]=arguments[s];t.apply(history,r),e()},history.replaceState=function(){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];a.apply(history,r),e()},()=>{window.removeEventListener("popstate",e),history.pushState=t,history.replaceState=a}},[]);let{notifications:b,visibleNotifications:f,unreadCount:v,hasMoreNotifications:w,addNotification:j,markAsRead:k,clearAllNotifications:N}=(0,V.z)(),[E,S]=(0,s.useState)(""),[R,Z]=(0,s.useState)([]),[L,U]=(0,s.useState)(!1),[z,D]=(0,s.useState)(!1),[A,O]=(0,s.useState)(-1),[T,I]=(0,s.useState)(null),[_,H]=(0,s.useState)(!1),[F,P]=(0,s.useState)(!1),[W,B]=(0,s.useState)(!1),K=(0,s.useRef)(null),Q=(0,s.useRef)(),q=Y(()=>{D(!1),O(-1)},z),G=Y(()=>{H(!1)},_),ee=Y(()=>{P(!1)},F),et=(0,s.useCallback)(async e=>{if(!e.trim()){Z([]),D(!1),I(null);return}try{U(!0),D(!0),I(null);let t=await $.ZP.urls.search(e,{page:1,limit:5,sortBy:"recent"});if(t.success&&t.data){let e=t.data.map(e=>({id:"url-".concat(e._id),type:"url",title:e.title||"Untitled URL",subtitle:new URL(e.originalUrl).hostname,href:"/analytics/url/".concat(e._id),icon:d.Z,metadata:{clickCount:e.clickCount,shortCode:e.shortCode,domain:new URL(e.originalUrl).hostname,createdAt:e.createdAt}}));Z(e),O(-1)}else throw Error(t.message||"Search failed")}catch(e){console.error("Search error:",e),I(e instanceof Error?e.message:"Search failed"),Z([])}finally{U(!1)}},[]),ea=(0,s.useCallback)(e=>{S(e),Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{et(e)},300)},[et]),es=(0,s.useCallback)(e=>{if(z&&0!==R.length)switch(e.key){case"ArrowDown":e.preventDefault(),O(e=>e<R.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),O(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),A>=0&&A<R.length&&R[A]&&el(R[A]);break;case"Escape":var t;e.preventDefault(),D(!1),O(-1),null===(t=K.current)||void 0===t||t.blur()}},[z,R,A]),el=(0,s.useCallback)(e=>{var t;y.push(e.href),S(""),Z([]),D(!1),O(-1),I(null),null===(t=K.current)||void 0===t||t.blur()},[y]),en=(0,s.useCallback)(()=>{E.trim()&&D(!0)},[E]);(0,s.useEffect)(()=>{let e=e=>{if((e.metaKey||e.ctrlKey)&&"k"===e.key){var t;e.preventDefault(),null===(t=K.current)||void 0===t||t.focus()}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);let ei=(0,s.useCallback)(()=>{let e=g.split("/").filter(Boolean);if(0===e.length||"dashboard"===e[0])return"Dashboard";let t=e[e.length-1];return t?t.charAt(0).toUpperCase()+t.slice(1).replace("-"," "):""},[g]),eo=(0,s.useCallback)(()=>g.split("/").filter(Boolean).map(e=>e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ")),[g]),ec=(0,s.useCallback)(()=>{P(!1),H(!_)},[_]),ed=(0,s.useCallback)(()=>{H(!1),P(!F)},[F]),ex=(0,s.useCallback)(()=>{H(!1),B(!0)},[]),em=(0,s.useCallback)(e=>{y.push(e),P(!1)},[y]),eh=(0,s.useCallback)(()=>{y.push("/urls/create")},[y]),eu=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";try{let t;let a=await $.ZP.urls.export({format:e,includeAnalytics:!0});if(Array.isArray(a))t=a;else if(a&&"object"==typeof a&&"success"in a){if(t=a.data,!a.success)throw Error(a.message||"Failed to export URLs")}else if("string"==typeof a)t=a;else throw Error("Unexpected response format");if(t){let a,r,s;if("csv"===e){if(Array.isArray(t)){let e=Object.keys(t[0]||{});a=[e.join(","),...t.map(t=>e.map(e=>JSON.stringify(t[e]||"")).join(","))].join("\n")}else a="string"==typeof t?t:JSON.stringify(t);r="text/csv;charset=utf-8",s="urls_export_".concat(new Date().toISOString().split("T")[0],".csv")}else a=JSON.stringify(t,null,2),r="application/json;charset=utf-8",s="urls_export_".concat(new Date().toISOString().split("T")[0],".json");let l=new Blob([a],{type:r}),n=URL.createObjectURL(l),i=document.createElement("a");i.href=n,i.download=s,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),j("Export Completed","Successfully exported data as ".concat(s)),console.log("Export completed successfully: ".concat(s))}else throw Error("No data to export")}catch(e){console.error("Error exporting URLs:",e),j("Export Failed",e instanceof Error?e.message:"Failed to export URLs")}},[j]),ey=(0,s.useCallback)(()=>{window.location.reload()},[]),eg=eo(),ep=ei();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("header",{className:"sticky top-0 z-40 border-b transition-all duration-300 ".concat("dark"===n?"bg-gray-900/95 border-gray-700":"bg-white/95 border-gray-200"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 sm:px-6 lg:px-8 h-16",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("button",{onClick:()=>a(!t),className:"lg:hidden p-2 rounded-lg transition-all duration-200 hover:scale-105 ".concat("dark"===n?"text-gray-300 hover:bg-gray-800":"text-gray-600 hover:bg-gray-100"),"aria-label":"Toggle sidebar",children:(0,r.jsx)(x.Z,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{className:"hidden sm:block",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold transition-all duration-200 ".concat("dark"===n?"text-white":"text-gray-900"),children:ep}),eg.length>1&&(0,r.jsx)("nav",{className:"flex items-center space-x-1 text-sm mt-1",children:eg.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[t>0&&(0,r.jsx)(m.Z,{className:"w-3 h-3 ".concat("dark"===n?"text-gray-500":"text-gray-400")}),(0,r.jsx)("span",{className:"transition-colors ".concat(t===eg.length-1?"dark"===n?"text-blue-400":"text-blue-600":"dark"===n?"text-gray-400":"text-gray-500"),children:e})]},t))})]})]}),(0,r.jsx)(C,{theme:n,searchQuery:E,setSearchQuery:ea,searchResults:R,isSearching:L,showSearchResults:z,selectedIndex:A,onResultClick:el,onKeyDown:es,onFocus:en,searchRef:q,inputRef:K,error:T}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(X,{theme:n,onCreateUrl:eh,onExport:eu,onRefresh:ey}),(0,r.jsx)(M,{theme:n,show:_,notifications:f,unreadCount:v,hasMoreNotifications:w,onToggle:ec,onMarkAsRead:k,onOpenModal:ex,dropdownRef:G,totalNotifications:b.length}),(0,r.jsx)(J,{theme:n,user:i,show:F,onToggle:ed,onLogout:u,onNavigate:em,dropdownRef:ee})]})]}),T&&z&&(0,r.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-red-500",children:[(0,r.jsx)(h.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm",children:T})]})})]}),W&&(0,r.jsx)(er,{isOpen:W,onClose:()=>B(!1),notifications:b,theme:n,onMarkAsRead:k,onMarkAllAsRead:()=>{b.forEach(e=>{e.read||k(e.id)})},onRemoveNotification:e=>{k(e)},onClearAll:()=>{N()}})]})},el=a(27648),en=a(46221),ei=a(42488),eo=a(11239),ec=a(48736),ed=a(50091),ex=a(70525),em=a(88906),eh=a(85929),eu=a(97226);let ey=e=>{let{item:t,theme:a,isActive:s,isExpanded:l,onToggle:o,pathname:c,onItemClick:d}=e,x=t.children&&t.children.length>0,m=t.icon;return(0,r.jsxs)("div",{children:[x?(0,r.jsxs)(i.E.button,{whileHover:{scale:1.02,x:4},whileTap:{scale:.98},onClick:o,className:"w-full flex items-center justify-between px-3 py-2.5 rounded-lg transition-all duration-200 ".concat(s?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg shadow-blue-500/25":"dark"===a?"text-gray-300 hover:bg-gray-700 hover:text-white":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(m,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"font-medium",children:t.label})]}),(0,r.jsx)(i.E.div,{animate:{rotate:l?180:0},transition:{duration:.3,type:"spring",stiffness:300},children:(0,r.jsx)(T.Z,{className:"w-4 h-4"})})]}):(0,r.jsx)(el.default,{href:t.href,onClick:d,className:"block w-full",children:(0,r.jsxs)(i.E.div,{whileHover:{scale:1.02,x:4},whileTap:{scale:.98},className:"flex items-center space-x-3 px-3 py-2.5 rounded-lg transition-all duration-200 ".concat(s?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg shadow-blue-500/25":"dark"===a?"text-gray-300 hover:bg-gray-700 hover:text-white":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),children:[(0,r.jsx)(m,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"font-medium",children:t.label}),t.badge&&(0,r.jsx)(i.E.span,{initial:{scale:0},animate:{scale:1},className:"ml-auto px-2 py-0.5 text-xs font-medium rounded-full ".concat(s?"bg-white/20 text-white":"dark"===a?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-700"),children:t.badge})]})}),(0,r.jsx)(n.M,{children:x&&l&&(0,r.jsx)(i.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto",transition:{height:{duration:.3},opacity:{duration:.2,delay:.1},staggerChildren:.05,delayChildren:.1}},exit:{opacity:0,height:0,transition:{height:{duration:.3,delay:.1},opacity:{duration:.2},staggerChildren:.02,staggerDirection:-1}},className:"ml-8 mt-2 space-y-1 overflow-hidden",children:t.children.map(e=>{let t=e.icon,s=c===e.href;return(0,r.jsx)(i.E.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},children:(0,r.jsx)(el.default,{href:e.href,onClick:d,className:"block",children:(0,r.jsxs)(i.E.div,{whileHover:{scale:1.02,x:4},whileTap:{scale:.98},className:"flex items-center space-x-3 px-3 py-2 rounded-lg transition-all duration-200 ".concat(s?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-md shadow-blue-500/20":"dark"===a?"text-gray-400 hover:bg-gray-700 hover:text-gray-300":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,r.jsx)(t,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:e.label})]})})},e.id)})})})]})};var eg=e=>{var t;let{sidebarOpen:a,setSidebarOpen:x}=e,{theme:m,toggleTheme:h}=(0,o.Fg)(),{logout:u,user:y}=(0,c.a)(),g=(0,l.usePathname)(),[p,b]=(0,s.useState)(new Set),f=[{id:"dashboard",label:"Dashboard",href:"/dashboard",icon:en.Z},{id:"analytics",label:"Analytics",href:"/analytics",icon:ei.Z,children:[{id:"analytics-real-time",label:"Real-time",href:"/real-time",icon:eo.Z},{id:"analytics-reports",label:"Reports",href:"/reports",icon:ec.Z}]},{id:"urls",label:"URLs",href:"/urls",icon:d.Z,children:[{id:"urls-all",label:"All URLs",href:"/urls",icon:d.Z},{id:"urls-create",label:"Create New",href:"/urls/create",icon:d.Z},{id:"urls-bulk",label:"Bulk Import",href:"/urls/bulk",icon:K.Z}]},{id:"platform",label:"Platform",href:"/platform",icon:ed.Z,requiredRole:["admin","demo"],children:[{id:"platform-overview",label:"Overview",href:"/platform",icon:ex.Z},{id:"platform-performance",label:"Performance",href:"/platform/performance",icon:eo.Z},{id:"platform-security",label:"Security",href:"/platform/security",icon:em.Z}]},{id:"settings",label:"Settings",href:"/settings",icon:_.Z}],v=f.filter(e=>!e.requiredRole||(null==y?void 0:y.role)&&-1!==e.requiredRole.indexOf(y.role));(0,s.useEffect)(()=>{let e=f.find(e=>{var t;return null===(t=e.children)||void 0===t?void 0:t.some(e=>g.startsWith(e.href))});e&&b(t=>new Set(t).add(e.id))},[g]);let w=e=>{b(t=>{let a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a})},j=(e,t)=>t===e.href||!!e.children&&e.children.some(e=>t===e.href),[k,N]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=()=>{N(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let E={open:{transition:{staggerChildren:.05,delayChildren:.1}},closed:{transition:{staggerChildren:.02,staggerDirection:-1}}},C={open:{x:0,opacity:1,transition:{type:"spring",stiffness:300,damping:30}},closed:{x:-20,opacity:0,transition:{type:"spring",stiffness:300,damping:30}}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.M,{children:a&&(0,r.jsx)(i.E.div,{initial:"closed",animate:"open",exit:"closed",variants:{open:{opacity:1,backdropFilter:"blur(4px)",transition:{duration:.3}},closed:{opacity:0,backdropFilter:"blur(0px)",transition:{duration:.3}}},className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>x(!1)})}),(0,r.jsx)(i.E.div,{initial:!1,animate:k?a?"open":"closed":"open",variants:k?{open:{x:0,transition:{type:"spring",stiffness:400,damping:40,mass:1}},closed:{x:"-100%",transition:{type:"spring",stiffness:400,damping:40,mass:1}}}:{open:{x:0},closed:{x:0}},className:"fixed inset-y-0 left-0 z-50 w-64 lg:relative lg:z-auto ".concat("dark"===m?"bg-gray-800":"bg-white"," shadow-xl lg:shadow-none border-r ").concat("dark"===m?"border-gray-700":"border-gray-200"," ").concat(a||!k?"block":"hidden"),children:(0,r.jsxs)(i.E.div,{variants:E,className:"flex flex-col h-full",children:[(0,r.jsxs)(i.E.div,{variants:C,className:"flex items-center justify-between p-6",children:[(0,r.jsxs)(el.default,{href:"/dashboard",className:"flex items-center space-x-3 group",onClick:()=>x(!1),children:[(0,r.jsx)(i.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center group-hover:bg-blue-700 transition-colors shadow-lg",children:(0,r.jsx)(d.Z,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-xl font-bold ".concat("dark"===m?"text-white":"text-gray-900"),children:"SnapURL"}),(0,r.jsx)("p",{className:"text-xs ".concat("dark"===m?"text-gray-400":"text-gray-500"),children:"Admin Panel"})]})]}),(0,r.jsx)(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>x(!1),className:"lg:hidden p-2 rounded-lg ".concat("dark"===m?"hover:bg-gray-700 text-gray-400":"hover:bg-gray-100 text-gray-600"," transition-colors"),children:(0,r.jsx)(et.Z,{className:"w-5 h-5"})})]}),y&&(0,r.jsx)(i.E.div,{variants:C,className:"px-6 pb-4 border-b ".concat("dark"===m?"border-gray-700":"border-gray-200"),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(i.E.div,{whileHover:{scale:1.05},className:"w-10 h-10 rounded-full ".concat("dark"===m?"bg-gray-700":"bg-gray-200"," flex items-center justify-center shadow-md"),children:(0,r.jsx)("span",{className:"text-sm font-medium ".concat("dark"===m?"text-gray-300":"text-gray-700"),children:null===(t=y.name)||void 0===t?void 0:t.split(" ").map(e=>e[0]).join("").toUpperCase()})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium truncate ".concat("dark"===m?"text-white":"text-gray-900"),children:y.name}),(0,r.jsx)("p",{className:"text-xs truncate ".concat("dark"===m?"text-gray-400":"text-gray-500"),children:"admin"===y.role?"Administrator":"moderator"===y.role?"Moderator":"User"})]})]})}),(0,r.jsx)("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:(0,r.jsx)(i.E.div,{variants:E,className:"space-y-1",children:v.map((e,t)=>(0,r.jsx)(i.E.div,{variants:C,custom:t,children:(0,r.jsx)(ey,{item:e,theme:m,isActive:j(e,g),isExpanded:p.has(e.id),onToggle:()=>w(e.id),pathname:g,onItemClick:()=>x(!1)})},e.id))})}),(0,r.jsxs)(i.E.div,{variants:C,className:"p-4 border-t ".concat("dark"===m?"border-gray-700":"border-gray-200"," space-y-2"),children:[(0,r.jsxs)(i.E.button,{whileHover:{scale:1.02,x:4},whileTap:{scale:.98},onClick:h,className:"w-full flex items-center space-x-3 px-3 py-2.5 rounded-lg transition-all duration-200 ".concat("dark"===m?"text-gray-300 hover:bg-gray-700 hover:text-white":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"," shadow-sm hover:shadow-md"),children:[(0,r.jsx)(i.E.div,{animate:{rotate:"dark"===m?180:0},transition:{duration:.3},children:"dark"===m?(0,r.jsx)(eh.Z,{className:"w-5 h-5"}):(0,r.jsx)(eu.Z,{className:"w-5 h-5"})}),(0,r.jsx)("span",{className:"font-medium",children:"dark"===m?"Light Mode":"Dark Mode"})]}),(0,r.jsxs)(i.E.button,{whileHover:{scale:1.02,x:4},whileTap:{scale:.98},onClick:u,className:"w-full flex items-center space-x-3 px-3 py-2.5 rounded-lg transition-all duration-200 ".concat("dark"===m?"text-red-400 hover:bg-red-900/20 hover:text-red-300":"text-red-600 hover:bg-red-50 hover:text-red-700"," shadow-sm hover:shadow-md"),children:[(0,r.jsx)(H.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"font-medium",children:"Sign Out"})]})]})]})})]})};let ep=e=>{let{size:t,theme:a}=e;return(0,r.jsx)(i.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"".concat("sm"===t?"w-4 h-4":"md"===t?"w-8 h-8":"lg"===t?"w-12 h-12":"w-16 h-16"," border-2 ").concat("dark"===a?"border-gray-600":"border-gray-300"," border-t-blue-600 rounded-full")})},eb=e=>{let{size:t,theme:a}=e,s={sm:"w-1 h-1",md:"w-2 h-2",lg:"w-3 h-3",xl:"w-4 h-4"}[t];return(0,r.jsx)("div",{className:"flex space-x-1",children:[0,1,2].map(e=>(0,r.jsx)(i.E.div,{animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:.2*e,ease:"easeInOut"},className:"".concat(s," ").concat("dark"===a?"bg-blue-400":"bg-blue-600"," rounded-full")},e))})},ef=e=>{let{size:t,theme:a}=e,s={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"}[t];return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i.E.div,{animate:{scale:[1,1.2,1],opacity:[1,.3,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"".concat(s," ").concat("dark"===a?"bg-blue-400":"bg-blue-600"," rounded-full")}),(0,r.jsx)(i.E.div,{animate:{scale:[1,1.4,1],opacity:[.8,0,.8]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.2},className:"absolute inset-0 ".concat(s," ").concat("dark"===a?"bg-blue-400":"bg-blue-600"," rounded-full")})]})},ev=e=>{let{size:t,theme:a}=e,s={sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16",xl:"w-24 h-24"}[t];return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i.E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 ".concat(s," border-2 ").concat("dark"===a?"border-blue-400/30":"border-blue-600/30"," border-t-transparent rounded-full")}),(0,r.jsx)(i.E.div,{animate:{rotate:-360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute inset-1 ".concat("sm"===t?"w-4 h-4":"md"===t?"w-6 h-6":"lg"===t?"w-12 h-12":"w-20 h-20"," border ").concat("dark"===a?"border-purple-400/40":"border-purple-600/40"," border-b-transparent rounded-full")}),(0,r.jsx)("div",{className:"".concat(s," flex items-center justify-center"),children:(0,r.jsx)(i.E.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:(0,r.jsx)(d.Z,{className:"".concat("sm"===t?"w-3 h-3":"md"===t?"w-5 h-5":"lg"===t?"w-8 h-8":"w-12 h-12"," ").concat("dark"===a?"text-blue-400":"text-blue-600")})})})]})};var ew=e=>{let{size:t="md",variant:a="spinner",text:s,fullScreen:l=!1,className:n="",theme:o="auto"}=e,c="auto"!==o?o:document.documentElement.classList.contains("dark")||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",d=l?"fixed inset-0 flex items-center justify-center z-50 ".concat("dark"===c?"bg-gray-900/80":"bg-white/80"):"flex items-center justify-center";return(0,r.jsx)("div",{className:"".concat(d," ").concat(n),children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(()=>{switch(a){case"dots":return(0,r.jsx)(eb,{size:t,theme:c});case"pulse":return(0,r.jsx)(ef,{size:t,theme:c});case"brand":return(0,r.jsx)(ev,{size:t,theme:c});default:return(0,r.jsx)(ep,{size:t,theme:c})}})(),s&&(0,r.jsx)(i.E.p,{initial:{opacity:0},animate:{opacity:1},className:"".concat({sm:"text-xs",md:"text-sm",lg:"text-base",xl:"text-lg"}[t]," font-medium ").concat("dark"===c?"text-gray-300":"text-gray-600"),children:s})]})})};let ej=e=>{let{theme:t}=e,a=new Date().getFullYear();return(0,r.jsx)("footer",{className:"border-t py-6 px-4 sm:px-6 lg:px-8 ".concat("dark"===t?"bg-gray-900 border-gray-700":"bg-white border-gray-200"),children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsx)(ek,{href:"/help",text:"Help Center",theme:t}),(0,r.jsx)(ek,{href:"https://snap-url-api-production.up.railway.app/api-docs",text:"API Docs",theme:t}),(0,r.jsx)(ek,{href:"/status",text:"Status",theme:t}),(0,r.jsx)(ek,{href:"/privacy",text:"Privacy",theme:t})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("p",{className:"text-sm ".concat("dark"===t?"text-gray-400":"text-gray-500"),children:["\xa9 ",a," SnapURL. All rights reserved."]}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("dark"===t?"bg-gray-800 text-gray-400":"bg-gray-100 text-gray-500"),children:"v1.0.0"})]})]})})},ek=e=>{let{href:t,text:a,theme:s}=e;return(0,r.jsx)("a",{href:t,className:"text-sm transition-colors ".concat("dark"===s?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"),target:t.startsWith("http")?"_blank":"_self",rel:t.startsWith("http")?"noopener noreferrer":void 0,children:a})};var eN=e=>{let{children:t,title:a="Dashboard",description:d}=e,{theme:x,mounted:m}=(0,o.Fg)(),{isAuthenticated:h,loading:u}=(0,c.a)(),y=(0,l.useRouter)(),[g,p]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{!m||u||h||y.replace("/auth/login")},[h,u,m,y]),(0,s.useEffect)(()=>{let e=()=>{window.innerWidth>=1024&&p(!1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),!m||u)?(0,r.jsx)(ew,{size:"lg",variant:"brand",text:"Loading dashboard...",fullScreen:!0,theme:x}):h?(0,r.jsxs)("div",{className:"min-h-screen flex ".concat("dark"===x?"bg-gray-900":"bg-slate-100"),children:[(0,r.jsx)(eg,{sidebarOpen:g,setSidebarOpen:p}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,r.jsx)(es,{sidebarOpen:g,setSidebarOpen:p}),(0,r.jsx)("main",{className:"flex-1 flex flex-col",children:(0,r.jsx)(n.M,{mode:"wait",children:(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeInOut"},className:"flex-1 p-4 sm:p-6 lg:p-8",children:[(a||d)&&(0,r.jsxs)("div",{className:"mb-8",children:[a&&(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold ".concat("dark"===x?"text-white":"text-gray-900"," mb-2"),children:a}),d&&(0,r.jsx)("p",{className:"text-sm sm:text-base ".concat("dark"===x?"text-gray-400":"text-gray-600"),children:d})]}),(0,r.jsx)("div",{className:"space-y-6",children:t})]},a)})}),(0,r.jsx)(ej,{theme:x})]}),g&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>p(!1)})]}):null}},12025:function(e,t,a){a.d(t,{Fg:function(){return i},a$:function(){return o},f6:function(){return n}});var r=a(57437),s=a(2265);let l=(0,s.createContext)(void 0),n=e=>{let{children:t}=e,[a,n]=(0,s.useState)("dark"),[i,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{try{let e=localStorage.getItem("theme");if(e&&("light"===e||"dark"===e))n(e);else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";n(e)}}catch(e){n("dark")}o(!0)},[]),(0,s.useEffect)(()=>{if(i){let e=document.documentElement;e.classList.remove("light","dark"),e.classList.add(a),e.setAttribute("data-theme",a)}},[a,i]),(0,s.useEffect)(()=>{if(!i)return;let e=null,t=null;try{e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{localStorage.getItem("theme")||n(e.matches?"dark":"light")},e.addEventListener("change",t)}catch(e){console.warn("Unable to set up system theme listener:",e)}return()=>{e&&t&&e.removeEventListener("change",t)}},[i]),(0,r.jsx)(l.Provider,{value:{theme:a,toggleTheme:()=>{let e="dark"===a?"light":"dark";n(e);try{localStorage.setItem("theme",e)}catch(e){console.warn("Unable to save theme to localStorage:",e)}},setSpecificTheme:e=>{n(e);try{localStorage.setItem("theme",e)}catch(e){console.warn("Unable to save theme to localStorage:",e)}},isDark:"dark"===a,mounted:i},children:(0,r.jsx)("div",{className:i?a:"dark",suppressHydrationWarning:!0,children:t})})},i=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e},o=()=>{let e=(0,s.useContext)(l);return void 0===e?{theme:"dark",toggleTheme:()=>{},setSpecificTheme:()=>{},isDark:!0,mounted:!1}:e}},66955:function(e,t,a){a.d(t,{N:function(){return d},z:function(){return x}});var r=a(85583),s=a(1780),l=a(57437),n=a(2265);let i="app_notifications",o=()=>{let[e,t]=(0,n.useState)([]),[a,l]=(0,n.useState)(!0);(0,n.useEffect)(()=>{try{let e=localStorage.getItem(i);if(e){let a=JSON.parse(e);t(a)}}catch(e){console.error("Error loading notifications from localStorage:",e)}finally{l(!1)}},[]),(0,n.useEffect)(()=>{if(!a)try{localStorage.setItem(i,JSON.stringify(e))}catch(e){console.error("Error saving notifications to localStorage:",e)}},[e,a]);let o=(0,n.useCallback)(()=>"notification_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),[]),c=(0,n.useCallback)(e=>{let t=Date.now()-e,a=Math.floor(t/6e4),r=Math.floor(t/36e5),s=Math.floor(t/864e5);return a<1?"Just now":a<60?"".concat(a," minute").concat(1===a?"":"s"," ago"):r<24?"".concat(r," hour").concat(1===r?"":"s"," ago"):s<7?"".concat(s," day").concat(1===s?"":"s"," ago"):new Date(e).toLocaleDateString()},[]),d=(0,n.useCallback)((e,a)=>{let r=Date.now(),s={id:o(),title:e,message:a,time:c(r),timestamp:r,read:!1};return t(e=>[s,...e].slice(0,100)),s.id},[o,c]),x=(0,n.useCallback)(e=>{t(t=>t.map(t=>t.id===e?(0,s._)((0,r._)({},t),{read:!0}):t))},[]),m=(0,n.useCallback)(()=>{t(e=>e.map(e=>(0,s._)((0,r._)({},e),{read:!0})))},[]),h=(0,n.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),u=(0,n.useCallback)(()=>{t([])},[]),y=(0,n.useCallback)(()=>{t(e=>e.map(e=>(0,s._)((0,r._)({},e),{time:c(e.timestamp)})))},[c]);(0,n.useEffect)(()=>{let e=setInterval(y,6e4);return()=>clearInterval(e)},[y]);let g=e.slice(0,4),p=e.filter(e=>!e.read).length,b=e.length>4;return{notifications:e,visibleNotifications:g,unreadCount:p,hasMoreNotifications:b,isLoading:a,addNotification:d,markAsRead:x,markAllAsRead:m,removeNotification:h,clearAllNotifications:u}},c=(0,n.createContext)(null),d=e=>{let{children:t}=e,a=o();return(0,l.jsx)(c.Provider,{value:a,children:t})},x=()=>{let e=(0,n.useContext)(c);if(!e)throw Error("useNotifications must be used within a NotificationsProvider");return e}}}]);