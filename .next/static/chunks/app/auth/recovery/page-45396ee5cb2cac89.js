(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[210],{12245:function(e,t,r){Promise.resolve().then(r.bind(r,24133))},32660:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},65302:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},87769:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},42208:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},54001:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]])},15863:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},66337:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},89345:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},24133:function(e,t,r){"use strict";r.d(t,{RecoveryContent:function(){return Z}});var a=r(85583),s=r(1780),i=r(57437),n=r(2265),o=r(5095),l=r(99376),d=r(12025),c=r(60429),m=r(66337),u=r(22252),x=r(65302),h=r(89345),f=r(15863);let g=(0,r(39763).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var p=r(32660),b=r(27648);let w=e=>{let{theme:t,formData:r,loading:a,error:s,success:n,validation:o,emailSent:l,countdown:d,handleInputChange:w,onSubmit:y,onResend:v}=e,k={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return(0,i.jsxs)(c.E.div,{variants:{hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",staggerChildren:.1}},exit:{opacity:0,y:-20,transition:{duration:.3}}},initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-md mx-auto",children:[(0,i.jsxs)(c.E.div,{variants:k,className:"text-center mb-8",children:[(0,i.jsx)(c.E.div,{variants:{idle:{scale:1},active:{scale:[1,1.05,1],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},initial:"idle",animate:"active",className:"inline-flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",children:(0,i.jsx)(m.Z,{className:"w-8 h-8 text-white"})}),(0,i.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-2 ".concat("dark"===t?"text-white":"text-gray-900"),children:"Forgot Password?"}),(0,i.jsx)("p",{className:"text-sm sm:text-base mb-3 ".concat("dark"===t?"text-gray-400":"text-gray-600"),children:"No worries! Enter your email and we'll send you reset instructions."}),(0,i.jsxs)("div",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-amber-100 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-800 rounded-full",children:[(0,i.jsx)(u.Z,{className:"w-3 h-3 text-amber-600 dark:text-amber-400"}),(0,i.jsx)("span",{className:"text-xs font-medium text-amber-700 dark:text-amber-300",children:"Demo Mode - No real emails sent"})]})]}),l&&n&&(0,i.jsxs)(c.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 space-y-4",children:[(0,i.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(x.Z,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),(0,i.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:n})]}),(0,i.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-xs text-green-600 dark:text-green-400",children:"Didn't receive the email?"}),(0,i.jsx)("button",{onClick:v,disabled:d>0||a,className:"text-xs font-medium transition-colors ".concat(d>0||a?"text-gray-400 cursor-not-allowed":"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300"),children:d>0?"Resend in ".concat(d,"s"):"Resend email"})]})]}),sessionStorage.getItem("demo_reset_token")&&(0,i.jsx)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,i.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,i.jsx)(u.Z,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium",children:"Demo Mode Instructions"}),(0,i.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"This is a demo implementation. In production, the reset link would be sent to your email. For testing purposes, check the browser console for the reset token and URL."}),(0,i.jsx)("button",{onClick:()=>{let e=sessionStorage.getItem("demo_reset_token");if(e){let t="".concat(window.location.origin,"/auth/recovery?token=").concat(e);window.location.href=t}},className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 underline",children:"Use Demo Reset Link"})]})]})})]}),s&&(0,i.jsx)(c.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(u.Z,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),(0,i.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:s})]})}),(0,i.jsxs)(c.E.form,{variants:k,onSubmit:y,className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat("dark"===t?"text-gray-300":"text-gray-700"),children:"Email Address"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,i.jsx)(h.Z,{className:"w-5 h-5 ".concat(o.showValidation&&o.emailValid?"text-green-500":o.showValidation&&!o.emailValid?"text-red-500":"text-gray-400")})}),(0,i.jsx)("input",{type:"email",value:r.email,onChange:e=>w("email",e.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border transition-all duration-200 ".concat(o.showValidation&&o.emailValid?"border-green-500 focus:border-green-500 focus:ring-green-500/20 "+("dark"===t?"bg-gray-800 text-white":"bg-white text-gray-900"):o.showValidation&&!o.emailValid?"border-red-500 focus:border-red-500 focus:ring-red-500/20 "+("dark"===t?"bg-gray-800 text-white":"bg-white text-gray-900"):"dark"===t?"border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-gray-800 text-white":"border-gray-300 focus:border-blue-500 focus:ring-blue-500/20 bg-white text-gray-900"," focus:ring-2 focus:ring-opacity-20"),placeholder:"Enter your email address",required:!0,disabled:a}),o.showValidation&&(0,i.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o.emailValid?(0,i.jsx)(x.Z,{className:"w-5 h-5 text-green-500"}):(0,i.jsx)(u.Z,{className:"w-5 h-5 text-red-500"})})]}),o.showValidation&&!o.emailValid&&(0,i.jsx)(c.E.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"Please enter a valid email address"})]}),(0,i.jsx)(c.E.button,{type:"submit",disabled:!o.emailValid||a,whileHover:o.emailValid&&!a?{scale:1.02}:{},whileTap:o.emailValid&&!a?{scale:.98}:{},className:"w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2 ".concat(o.emailValid&&!a?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl":"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"),children:a?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.Z,{className:"w-5 h-5 animate-spin"}),(0,i.jsx)("span",{children:"Sending..."})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g,{className:"w-5 h-5"}),(0,i.jsx)("span",{children:"Send Reset Link"})]})})]}),(0,i.jsx)(c.E.div,{variants:k,className:"mt-6 text-center",children:(0,i.jsxs)(b.default,{href:"/auth/login",className:"inline-flex items-center space-x-2 text-sm font-medium transition-colors ".concat("dark"===t?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"),children:[(0,i.jsx)(p.Z,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:"Back to Login"})]})})]},"email-step")};var y=r(54001),v=r(87769),k=r(42208),j=r(88906);let N=e=>{let{theme:t,formData:r,loading:o,error:l,validation:d,handleInputChange:x,onSubmit:h}=e,[g,w]=(0,n.useState)({password:!1,confirmPassword:!1}),N={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return(0,i.jsxs)(c.E.div,{variants:{hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",staggerChildren:.1}},exit:{opacity:0,y:-20,transition:{duration:.3}}},initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-md mx-auto",children:[(0,i.jsxs)(c.E.div,{variants:N,className:"text-center mb-8",children:[(0,i.jsx)(c.E.div,{variants:{idle:{scale:1},active:{scale:[1,1.05,1],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},initial:"idle",animate:"active",className:"inline-flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-green-500 to-blue-600 rounded-full",children:(0,i.jsx)(y.Z,{className:"w-8 h-8 text-white"})}),(0,i.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-2 ".concat("dark"===t?"text-white":"text-gray-900"),children:"Reset Password"}),(0,i.jsx)("p",{className:"text-sm sm:text-base mb-3 ".concat("dark"===t?"text-gray-400":"text-gray-600"),children:"Create a new secure password for your account."}),(0,i.jsxs)("div",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-amber-100 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-800 rounded-full",children:[(0,i.jsx)(u.Z,{className:"w-3 h-3 text-amber-600 dark:text-amber-400"}),(0,i.jsx)("span",{className:"text-xs font-medium text-amber-700 dark:text-amber-300",children:"Demo Mode - Password won't be changed"})]})]}),l&&(0,i.jsx)(c.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(u.Z,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),(0,i.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:l})]})}),(0,i.jsxs)(c.E.form,{variants:N,onSubmit:h,className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat("dark"===t?"text-gray-300":"text-gray-700"),children:"New Password"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,i.jsx)(m.Z,{className:"w-5 h-5 ".concat(d.showValidation&&d.passwordValid?"text-green-500":d.showValidation&&!d.passwordValid?"text-red-500":"text-gray-400")})}),(0,i.jsx)("input",{type:g.password?"text":"password",value:r.password,onChange:e=>x("password",e.target.value),className:"w-full pl-10 pr-12 py-3 rounded-lg border transition-all duration-200 ".concat(d.showValidation&&d.passwordValid?"border-green-500 focus:border-green-500 focus:ring-green-500/20 bg-green-50 text-gray-900":d.showValidation&&!d.passwordValid?"dark"===t?"border-red-500 focus:border-red-500 focus:ring-red-500/20 bg-gray-800 text-white":"border-red-500 focus:border-red-500 focus:ring-red-500/20 bg-red-50 text-gray-900":"dark"===t?"border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-gray-800 text-white":"border-gray-300 focus:border-blue-500 focus:ring-blue-500/20 bg-gray-50 text-gray-900"," focus:ring-2 focus:ring-opacity-20"),placeholder:"Enter new password (min 6 characters)",required:!0,disabled:o,minLength:6}),(0,i.jsx)("button",{type:"button",onClick:()=>w(e=>(0,s._)((0,a._)({},e),{password:!e.password})),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:g.password?(0,i.jsx)(v.Z,{className:"w-5 h-5 ".concat("text-gray-400")}):(0,i.jsx)(k.Z,{className:"w-5 h-5 ".concat("text-gray-400")})})]}),d.showValidation&&!d.passwordValid&&(0,i.jsx)(c.E.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"Password must be at least 6 characters long"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat("dark"===t?"text-gray-300":"text-gray-700"),children:"Confirm New Password"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,i.jsx)(j.Z,{className:"w-5 h-5 ".concat(d.showValidation&&d.passwordsMatch?"text-green-500":d.showValidation&&!d.passwordsMatch?"text-red-500":"text-gray-400")})}),(0,i.jsx)("input",{type:g.confirmPassword?"text":"password",value:r.confirmPassword,onChange:e=>x("confirmPassword",e.target.value),className:"w-full pl-10 pr-12 py-3 rounded-lg border transition-all duration-200 ".concat(d.showValidation&&d.passwordsMatch&&r.confirmPassword?"border-green-500 focus:border-green-500 focus:ring-green-500/20 bg-green-50 text-gray-900":d.showValidation&&!d.passwordsMatch&&r.confirmPassword?"dark"===t?"border-red-500 focus:border-red-500 focus:ring-red-500/20 bg-gray-800 text-white":"border-red-500 focus:border-red-500 focus:ring-red-500/20 bg-red-50 text-gray-900":"dark"===t?"border-gray-700 focus:border-blue-500 focus:ring-blue-500/20 bg-gray-800 text-white":"border-gray-300 focus:border-blue-500 focus:ring-blue-500/20 bg-gray-50 text-gray-900"," focus:ring-2 focus:ring-opacity-20"),placeholder:"Confirm your new password",required:!0,disabled:o}),(0,i.jsx)("button",{type:"button",onClick:()=>w(e=>(0,s._)((0,a._)({},e),{confirmPassword:!e.confirmPassword})),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:g.confirmPassword?(0,i.jsx)(v.Z,{className:"w-5 h-5 ".concat("text-gray-400")}):(0,i.jsx)(k.Z,{className:"w-5 h-5 ".concat("text-gray-400")})})]}),d.showValidation&&!d.passwordsMatch&&r.confirmPassword&&(0,i.jsx)(c.E.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 dark:text-red-400",children:"Passwords do not match"})]}),(0,i.jsx)(c.E.button,{type:"submit",disabled:!d.passwordValid||!d.passwordsMatch||o,whileHover:d.passwordValid&&d.passwordsMatch&&!o?{scale:1.02}:{},whileTap:d.passwordValid&&d.passwordsMatch&&!o?{scale:.98}:{},className:"w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2 ".concat(d.passwordValid&&d.passwordsMatch&&!o?"bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white shadow-lg hover:shadow-xl":"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"),children:o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.Z,{className:"w-5 h-5 animate-spin"}),(0,i.jsx)("span",{children:"Resetting..."})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.Z,{className:"w-5 h-5"}),(0,i.jsx)("span",{children:"Reset Password"})]})})]}),(0,i.jsx)(c.E.div,{variants:N,className:"mt-6 text-center",children:(0,i.jsxs)(b.default,{href:"/auth/login",className:"inline-flex items-center space-x-2 text-sm font-medium transition-colors ".concat("dark"===t?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"),children:[(0,i.jsx)(p.Z,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:"Back to Login"})]})})]},"reset-step")},E=e=>{let{theme:t}=e;return(0,i.jsx)(c.E.div,{variants:{hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",staggerChildren:.1}},exit:{opacity:0,y:-20,transition:{duration:.3}}},initial:"hidden",animate:"visible",exit:"exit",className:"w-full max-w-md mx-auto text-center",children:(0,i.jsxs)(c.E.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},children:[(0,i.jsx)(c.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},className:"inline-flex items-center justify-center w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full",children:(0,i.jsx)(x.Z,{className:"w-10 h-10 text-white"})}),(0,i.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-4 ".concat("dark"===t?"text-white":"text-gray-900"),children:"Password Reset Successful!"}),(0,i.jsx)("p",{className:"text-sm sm:text-base mb-8 ".concat("dark"===t?"text-gray-400":"text-gray-600"),children:"Your password has been successfully reset. You can now log in with your new password."}),(0,i.jsx)(c.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,i.jsxs)(b.default,{href:"/auth/login",className:"inline-flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,i.jsx)("span",{children:"Continue to Login"}),(0,i.jsx)(p.Z,{className:"w-5 h-5 rotate-180"})]})})]})},"success-step")};var V=r(71245);let Z=()=>{let{theme:e}=(0,d.Fg)(),t=(0,l.useRouter)(),{isAuthenticated:r}=(0,V.a)(),c=(0,l.useSearchParams)(),m=null==c?void 0:c.get("token"),[u,x]=(0,n.useState)(m?"reset":"email"),[h,f]=(0,n.useState)({email:"",password:"",confirmPassword:""}),[g,p]=(0,n.useState)(!1),[b,y]=(0,n.useState)(""),[v,k]=(0,n.useState)(""),[j,Z]=(0,n.useState)(!1),[P,S]=(0,n.useState)(0),[_,M]=(0,n.useState)({emailValid:!1,passwordValid:!1,passwordsMatch:!1,showValidation:!1});(0,n.useEffect)(()=>{let e;return P>0&&(e=setTimeout(()=>S(P-1),1e3)),()=>clearTimeout(e)},[P]),(0,n.useEffect)(()=>{r&&t.replace("/dashboard")},[r,t]);let C=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()),R=e=>e.length>=6,L=async e=>{if(e.preventDefault(),_.emailValid&&!g){p(!0),y(""),await new Promise(e=>setTimeout(e,1500));try{let e="demo_reset_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2));Z(!0),k("Password reset instructions would be sent to your email"),S(60),sessionStorage.setItem("demo_reset_token",e),sessionStorage.setItem("demo_reset_email",h.email),console.log("Demo Reset Token:",e)}catch(e){y("Network error occurred. Please try again.")}finally{p(!1)}}},I=async e=>{if(e.preventDefault(),_.passwordValid&&_.passwordsMatch&&!g&&m){p(!0),y(""),await new Promise(e=>setTimeout(e,2e3));try{x("success"),k("Password has been reset successfully"),sessionStorage.removeItem("demo_reset_token"),sessionStorage.removeItem("demo_reset_email")}catch(e){y("Demo error: Password reset simulation failed")}finally{p(!1)}}},T=async()=>{P>0||g||await L(new Event("submit"))},O={theme:e,formData:h,loading:g,error:b,success:v,validation:_,handleInputChange:(e,t)=>{f(r=>(0,s._)((0,a._)({},r),{[e]:t})),y(""),"email"===e&&M(e=>(0,s._)((0,a._)({},e),{emailValid:C(t),showValidation:t.length>0})),"password"===e&&M(e=>(0,s._)((0,a._)({},e),{passwordValid:R(t),passwordsMatch:t===h.confirmPassword,showValidation:t.length>0})),"confirmPassword"===e&&M(e=>(0,s._)((0,a._)({},e),{passwordsMatch:t===h.password,showValidation:t.length>0}))}};return r?null:(0,i.jsxs)("div",{className:"min-h-screen flex items-center justify-center p-4 ".concat("dark"===e?"bg-gray-900":"bg-gray-50"),children:[(0,i.jsx)("div",{className:"w-full max-w-md",children:(0,i.jsxs)(o.M,{mode:"wait",children:["email"===u&&(0,i.jsx)(w,(0,s._)((0,a._)({},O),{emailSent:j,countdown:P,onSubmit:L,onResend:T})),"reset"===u&&(0,i.jsx)(N,(0,s._)((0,a._)({},O),{resetToken:m,onSubmit:I})),"success"===u&&(0,i.jsx)(E,{theme:e})]})}),(0,i.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,i.jsx)("div",{className:"absolute -top-1/2 -right-1/2 w-full h-full bg-gradient-to-bl from-blue-400/5 to-purple-400/5 rounded-full blur-3xl"}),(0,i.jsx)("div",{className:"absolute -bottom-1/2 -left-1/2 w-full h-full bg-gradient-to-tr from-green-400/5 to-blue-400/5 rounded-full blur-3xl"})]})]})}},12025:function(e,t,r){"use strict";r.d(t,{Fg:function(){return o},a$:function(){return l},f6:function(){return n}});var a=r(57437),s=r(2265);let i=(0,s.createContext)(void 0),n=e=>{let{children:t}=e,[r,n]=(0,s.useState)("dark"),[o,l]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{try{let e=localStorage.getItem("theme");if(e&&("light"===e||"dark"===e))n(e);else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";n(e)}}catch(e){n("dark")}l(!0)},[]),(0,s.useEffect)(()=>{if(o){let e=document.documentElement;e.classList.remove("light","dark"),e.classList.add(r),e.setAttribute("data-theme",r)}},[r,o]),(0,s.useEffect)(()=>{if(!o)return;let e=null,t=null;try{e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{localStorage.getItem("theme")||n(e.matches?"dark":"light")},e.addEventListener("change",t)}catch(e){console.warn("Unable to set up system theme listener:",e)}return()=>{e&&t&&e.removeEventListener("change",t)}},[o]),(0,a.jsx)(i.Provider,{value:{theme:r,toggleTheme:()=>{let e="dark"===r?"light":"dark";n(e);try{localStorage.setItem("theme",e)}catch(e){console.warn("Unable to save theme to localStorage:",e)}},setSpecificTheme:e=>{n(e);try{localStorage.setItem("theme",e)}catch(e){console.warn("Unable to save theme to localStorage:",e)}},isDark:"dark"===r,mounted:o},children:(0,a.jsx)("div",{className:o?r:"dark",suppressHydrationWarning:!0,children:t})})},o=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e},l=()=>{let e=(0,s.useContext)(i);return void 0===e?{theme:"dark",toggleTheme:()=>{},setSpecificTheme:()=>{},isDark:!0,mounted:!1}:e}},5095:function(e,t,r){"use strict";r.d(t,{M:function(){return g}});var a=r(2265),s=r(11534);function i(){let e=(0,a.useRef)(!1);return(0,s.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var n=r(58345),o=r(64252),l=r(53576);class d extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c({children:e,isPresent:t}){let r=(0,a.useId)(),s=(0,a.useRef)(null),i=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)(()=>{let{width:e,height:a,top:n,left:o}=i.current;if(t||!s.current||!e||!a)return;s.current.dataset.motionPopId=r;let l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            top: ${n}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),a.createElement(d,{isPresent:t,childRef:s,sizeRef:i},a.cloneElement(e,{ref:s}))}let m=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:i,presenceAffectsLayout:n,mode:d})=>{let m=(0,l.h)(u),x=(0,a.useId)(),h=(0,a.useMemo)(()=>({id:x,initial:t,isPresent:r,custom:i,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;s&&s()},register:e=>(m.set(e,!1),()=>m.delete(e))}),n?void 0:[r]);return(0,a.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[r]),a.useEffect(()=>{r||m.size||!s||s()},[r]),"popLayout"===d&&(e=a.createElement(c,{isPresent:r},e)),a.createElement(o.O.Provider,{value:h},e)};function u(){return new Map}var x=r(58881),h=r(13223);let f=e=>e.key||"",g=({children:e,custom:t,initial:r=!0,onExitComplete:o,exitBeforeEnter:l,presenceAffectsLayout:d=!0,mode:c="sync"})=>{var u;(0,h.k)(!l,"Replace exitBeforeEnter with mode='wait'");let g=(0,a.useContext)(x.p).forceRender||function(){let e=i(),[t,r]=(0,a.useState)(0),s=(0,a.useCallback)(()=>{e.current&&r(t+1)},[t]);return[(0,a.useCallback)(()=>n.Wi.postRender(s),[s]),t]}()[0],p=i(),b=function(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}(e),w=b,y=(0,a.useRef)(new Map).current,v=(0,a.useRef)(w),k=(0,a.useRef)(new Map).current,j=(0,a.useRef)(!0);if((0,s.L)(()=>{j.current=!1,function(e,t){e.forEach(e=>{let r=f(e);t.set(r,e)})}(b,k),v.current=w}),u=()=>{j.current=!0,k.clear(),y.clear()},(0,a.useEffect)(()=>()=>u(),[]),j.current)return a.createElement(a.Fragment,null,w.map(e=>a.createElement(m,{key:f(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:d,mode:c},e)));w=[...w];let N=v.current.map(f),E=b.map(f),V=N.length;for(let e=0;e<V;e++){let t=N[e];-1!==E.indexOf(t)||y.has(t)||y.set(t,void 0)}return"wait"===c&&y.size&&(w=[]),y.forEach((e,r)=>{if(-1!==E.indexOf(r))return;let s=k.get(r);if(!s)return;let i=N.indexOf(r),n=e;n||(n=a.createElement(m,{key:f(s),isPresent:!1,onExitComplete:()=>{y.delete(r);let e=Array.from(k.keys()).filter(e=>!E.includes(e));if(e.forEach(e=>k.delete(e)),v.current=b.filter(t=>{let a=f(t);return a===r||e.includes(a)}),!y.size){if(!1===p.current)return;g(),o&&o()}},custom:t,presenceAffectsLayout:d,mode:c},s),y.set(r,n)),w.splice(i,0,n)}),w=w.map(e=>{let t=e.key;return y.has(t)?e:a.createElement(m,{key:f(e),isPresent:!0,presenceAffectsLayout:d,mode:c},e)}),a.createElement(a.Fragment,null,y.size?w:w.map(e=>(0,a.cloneElement)(e)))}}},function(e){e.O(0,[964,245,971,117,744],function(){return e(e.s=12245)}),_N_E=e.O()}]);